## 操作系统

* **请画图说明系统内核、系统调用、库函数、应用程序之间的关系。**
  ![img](https://ling-root-bucket.oss-cn-hangzhou.aliyuncs.com/picgo/BT1680061282ZDMT54001.jpg)

* **根据进程的行为可以将进程分为计算密集型进程和I/O密集型进程，请解释这两个概念。随着CPU变得越来越快，更多的进程倾向于哪一种类型？可以采取什么应对策略？**

  计算密集型进程：花费大部分时间在计算上。
  I/O 密集型进程：花费大部分时间等待 I/O上。
  **倾向于 I/O 密集型**。
  策略：如果需要运行 I/O 密集型进程，应该让它尽快得到机会，以便发出磁盘请求并保持磁盘始终忙碌；而且可以多运行一些这类进程以保持处理器的充分利用。

* **解决死锁的方法可以分为哪两个类型？**

  （1） 一类是不让死锁发生。
  （2） 另一类是检测死锁是否发生，再加以解决。

* **(+2)为什么要在设备管理中引入缓冲技术？根据系统设置的缓冲区个数，可以把缓冲技术分为哪几种？**

  为了匹配处理器与 I/O 设备之间的处理速度，减少外部中断的次数和处理器进行中断处 理所花费的时间，并且解决 DMA 或通道方式中可能出现的瓶颈问题， 通常都需要在设备管理中引入用来暂存数据的缓冲技术。
  根据系统设置的缓冲区个数， 可以把缓冲技术分为单缓冲、双缓冲、多缓冲以及缓冲池四种。

* **什么是中断屏蔽？采用什么方式来屏蔽？被屏蔽的中断信号保存在哪里？中断屏蔽的作用？**

  在整个中断系统中，可以允许或者禁止中断系统对某些类别中断的响应。在程序状态字PSW中设计有中断屏蔽位，主机是否允许响应或禁止某些中断，则由PSW中的中断屏蔽位决定。被屏蔽的中断信号，通常保存在中断寄存器中。

  作用：中断优先级只是规定了中断装置响应同时出现的中断的次序，当中断装置响应了某个中断后中断处理程序在进行处理时，中断装置又可能去响应另一个中断事件。因此会出现优先级低的中断事件的处理打断优先级高的中断事件的处理，使得中断事件的处理顺序与中断响应顺序不一致，而且会形成多重嵌套处理，使得现场保护、程序返回等工作变得复杂。中断屏蔽技术就是为了解决上述问题而提出的。在一个中断处理没有结束之前不再响应其他中断事件，或者只响应比当前级别高的中断事件。于是，当中断装置检查到有中断事件后，便去查看PSW中中断屏蔽标志，如果没有屏蔽就响应该中断；否则，暂时不响应该中断，待屏蔽标志消除后再响应。

* **(+1)抢占式调度和非抢占式调度有何区别？**

  **处理器的调度方式**有两种：**抢占式**和**非抢占式**

  **抢占式调度**：就是当就绪队列中一旦有优先级高于当前运行进程优先级的进程存在时，便立即进行调度，转让处理器。

  **非抢占式调度**：则是一旦把处理器分配给一个进程，它就一直占用处理器，直到进程运行结束或者因为I/O阻塞等原因，才会自愿让出处理器。

* **虚拟页式系统中页表的主要作用是什么？通常页表项会包含哪些信息（至少写出4项)？**

  页表中的每个表项指出了程序逻辑地址中的页号与所占有的物理页面号之间的对应关系，系统要通过查页表来完成从逻辑地址到相应物理地址的变换，即地址转换。通常页表项会包含物理页面号、有效位（或驻留位、存在位）、访问位、修改位和保护位等信息。

* **什么是中断？中断和异常的区别是什么？**

  所谓中断，是指处理器对系统中或系统外发生的异步事件的响应。
  区别：中断是由外部事件引发的，异常则是由正在执行的指令引发的。

* **简述进程最短剩余时间优先调度算法的基本思路以及实现方法。**

  最短剩余时间优先算法是最短进程优先算法的抢占式版本，进程调度时总是选择其剩余运行时间最短的那个进程运行。
  每当一个新进程到达时，把新进程的预计运行时间与当前进程的剩余运行时间做比较，如果新进程的预计运行时间比较长，则当前进程继续运行，否则换新进程运行。

* **简述可变分区中紧缩技术的主要作用以及实现方法。**

  紧缩技术可以集中分散的小空闲区（小碎片），提高内存的利用率。
  紧缩技术是通过移动内存中的程序，把所有程序占用区集中在内存的一端，从而所有空闲碎片在内存的另一端合并成一个连续的大空闲区。

* **I/O设备的中断控制方式与DMA控制方式的区别是什么？**

  区别1：中断方式是在数据缓冲寄存器满之后发中断要求CPU进行中断处理的，而DMA方式则是等所要求传输的数据块全部传送结束时要求CPU进行中断处理。
  区别2：中断方式的数据传送是由CPU控制完成的，而DMA方式则是在DMA控制器的控制下完成的。

* **什么是系统调用？在执行系统调用时，调用程序和被调用程序分别运行在什么状态？在执行一般的函数调用时，调用程序和被调用程序分别运行在什么状态？操作系统为什么要提供“系统调用”?**

  所谓系统调用，就是用户在程序中调用操作系统所提供的一些子功能。
  执行系统调用时，调用程序运行在目态，而被调用程序则运行在管态。
  执行一般的函数调用时，其调用程序和被调用程序都运行在相同的状态：管态或目态。

  提供“系统调用”的目的: 在用户编写的源程序一级，用户使用程序设计语言描述算题任务的逻辑要求，有些要求的实现只有通过操作系统的系统调用才能完成。操作系统编制了许多不同功能的子程序，用户程序在执行中可以调用这些子程序。由操作系统提供的这些子程序称为系统功能调用程序，简称系统调用。系统调用是一种操作系统提供给用户程序的服务界面。

* **什么是最高响应比优先算法？试简述这个进程调度算法的优点并说明原因。**

  这个算法的实质是每次调度选择最高响应比的进程，每个进程的响应比跟该进程的预计运行时间和等待时间有关。进程的响应比公式为：
  Rp=(等待时间+预计运行时间)/预计运行时间=1+等待时间/预计运行时间
  从响应比的计算公式可以看出，如果等待时间相同，则短进程响应比较高，会优先得到调度；但长进程可以通过等待来提升响应比，最终长进程也有机会得到调度。所以，这种调度算法对短进程和长进程都比较公平、合理。

* **死锁检测程序的运行频率较高或较低时，各有什么优、缺点？**

  频率较高时：优点是可以尽早检测到死锁及其所涉及的进程，并有可能找到引起死锁的那个进程；缺点是增加系统开销。
  频率较低时：优点是可以降低运行死锁检测程序的开销；缺点是在检测到死锁时可能涉及很多进程，难以找到引起死锁的那个进程。

* **什么是覆盖技术？它的主要作用是什么？**

  覆盖技术可以把程序划分为若干个功能上相对独立的程序段，使那些不会同时执行的程序段共享同一块内存区城，未执行的程序段先保存在磁盘上，需要时再调入内存，覆盖前面的程序段。
  覆盖技术利用相互独立的程序段之间在内存空间的相互覆盖，从逻辑上扩充了内存空间，在某种程度上实现了在小容量内存上运行较大程序的功能。

* **一般的I/O软件结构分为四层，即中断处理程序、设备驱动程序、设备独立层软件和用户级软件。简要回答以下4项工作分别是在I/O软件的哪一层完成的。**
  **（1）为一个磁盘的读操作计算磁道、扇区、磁头。**
  **（2）向设备寄存器写命令。**
  **（3）检查用户是否允许使用设备。**
  **（4）将二进制整数转换成ASCII以便打印。**

  (1)设备驱动程序。
  (2)设备驱动程序。
  (3)设备独立层软件。
  (4)用户级软件。

* **中断和异常的区别是什么?请指出“时间片到时”、“算术溢出”、“掉电”和“虚拟存储中的缺页”分别属于中断和异常中的哪一种?**

  中断是由外部事件引发的；

  异常是由正在执行的指令引发的。

  中断:时间片到时、掉电

  异常: 算术溢出、虚拟存储中的缺页

* **什么是轮转调度算法?请分析时间片长短对算法性能的影响。**

  (1)轮转调度算法是指将处理器的处理时间划分成一个个时间片,就绪队列中的进程轮流运行一个时间片。当时间片结束时,让出处理器,进入就绪队列,等待下一次调度。 

  (2)**时间片太短**,进程切换频繁,加重系统开销(或降低了处理器效率)。**时间片太长**, 引起对短的交互请求的响应时间变长。

* **请简述死锁预防与死锁避免这两种死锁解决方法的含义。**

  **死锁预防**是系统预先确定资源分配策略,这些策略至少能破坏死锁四个必要条件中的一个，进程按规定申请资源,系统按预先规定的策略进行分配,从而防止死锁的发生。

  **死锁避免**是当进程提出资源申请时,系统先测试资源分配后系统的安全状态,仅当能确保系统安全时才把资源分配给进程,使系统一直处于安全状态之中,从而避免死锁。

* (+1)**请阐述实现虚拟存储器需要哪些硬件支持。**

  (1) 系统有容量足够大的外存

  (2) 系统有一定容量的内存。

  (3 硬件提供实现虚实地址映射的机制

* **请回答通道有哪三种类型?简述三类通道的优缺点。**

  通道的三种类型是: **选择通道**,**数组多路通道**,**字节多路通道**。

  **选择通道** **优点**：以数据块为单位进行传输, 传输效率高。**缺点**：通道利用率低。

  **数组多路通道** **优点**：以数据块为单位进行传输, 传输效率高, 具有多路并行操作的能力，通道利用率高。**缺点**：控制复杂。

  **字节多路通道** **优点**：具有多路并行操作能力，缺点：以字节为单位传输传输效率低。

* **什么是中断？如果同一中断级中的多个设备接口中同时都有中断请求时，如何处理？**

  **中断**：处理器对系统中或系统外发生的异步事件的响应。

  **如果同一中断级中的多个设备接口中同时都有中断请求时**，可以采用：**固定优先数** 或者 **轮转法**。

* **进程控制通过进程控制原语来实现，请分别描述创建原语和撤销原语的操作过程。**

  **创建原语**：先申请一个空闲 PCB 区域，然后将有关信息填入 PCB，置该进程为就绪状态，最后把它插入就绪队列中。

  **撤销原语**：找到要被撤销进程的 PCB，将它从所在队列中消去，撤销属于该进程的一切“子孙进程”，释放该进程所占用的全部资源，并消去该进程的 PCB。

* **什么是资源有序分配法？请简述此方法能够预防死锁的原因。**

  **资源有序分配法**是指对系统中所有资源顺序编号，规定任何一个进程申请两个以上资源时，按资源编号顺序申请，只有在得到编号小的资源之后，才能再申请编号大的资源。

  **资源有序分配法**破坏了死锁的四个必要条件之一的**循环等待条件**，达到预防死锁的目的。

* **虚拟存储器的工作原理是什么？**

  当进程开始运行时，先将程序的一部分装入内存，另一部分暂时留在外存；

  当要执行的指令不在内存时，系统自动完成将它们从外存调入内存的工作；

  当没有足够的内存空间时，系统自动选择部分内存空间，将其中原有的内容交换到磁盘，并释放这些内存空间，供该进程或其他进程使用。

* **什么是程序性中断？程序性中断都必须由操作系统来完成吗？举例说明。**

  **程序性中断**多数是**程序指令出错**、**指令越权**或者**指令寻址越界**而引发的系统保护。

  **程序性中断不一定由操作系统来完成**。

  程序性中断可以由程序自己完成。例如一些算数错误的处理，不同的程序可以有不同的处理方法。

* **在七状态进程模型中，什么是阻塞状态？什么是阻塞挂起状态？两个状态之间如何转换？**

  **阻塞状态**：进程在内存并等待某事件的出现。

  **阻塞挂起状态**：进程在外存并等待某事件的出现。

  **二者转换**：当一个进程释放足够内存时，系统会把一个高优先级阻塞挂起进程激活，即将进程转为阻塞状态。

* **(+3)什么是死锁？产生死锁的两个主要原因是什么？**

  **死锁**：指在多道程序系统中，一组进程中的每一个进程均无限期地等待被该组进程中的另一个进程所占用且永远不会释放的资源。

  **产生死锁的两个主要原因**: 竞争资源(资源分配策略)、进程推进顺序不合理(并发进程的执行速度)

* **简述虚拟页式存储管理的优缺点。**

  优点：不要求进程的程序段和数据段在内存中连续存放，有效解决了碎片问题，提高了内存利用率。

  缺点：存在页面空间的浪费，程序的最后一页往往有一部分得不到利用。

* **简述一般的I/O软件结构构成。**

  一般的I/O软件结构分为四层：中断处理程序、设备驱动程序、设备独立的操作系统软件和用户级软件。

* **简述影响缺页率的因素。**

  (1)分配给程序的物理页面数。
  (2)页面的大小。
  (3)程序编制方法。
  (4)页面调度算法。

* **简述可再入程序的特性。**

  **可再入程序**: 一个能够被多个用户同时调用的程序称作是“可再入”的程序。

  **特性**：可再入程序必须是“纯”代码的程序，程序在执行中不会修改自身的代码，换句话说，可再入程序必须和有关的数据区分离。可再入程序的操作对象，即数据，是与程序相分离的，要求调用者提供专用工作区，以保证程序以同样方式为各用户服务。现代的操作系统及编译程序都是属于可再入程序，它们能同时被不同用户调用而形成不同的进程。

* **简述程序状态字(PSW)包含的状态代码及其功能。**
  (1)**CPU的工作状态代码**：指明当前处理器的工作状态是管态还是目态，用来说明当前在处理器上执行的是操作系统还是一般用户，从而决定其是否可以使用特权指令或拥有其他的特殊权力。
  (2)**条件码**：反映指令执行后的结果特征。
  (3)**中断屏蔽码**：指出是否允许中断。
  
* **简述使用共享设备的方法。**
  (1)申请设备。如设备被占用，进入设备等待队列，否则分配设备。
  (2)启动设备。I/O传输。
  (3)释放设备。当设备结束，发出中断信号时，系统唤醒一个等待设备的进程。
  
* **简述进程调度的主要功能。**

  记录系统中所有进程的执行状况；

  根据一定的调度算法，从就绪队列中选出一个进程，准备把处理器分配给它；

  把处理器分配给进程，即把选中进程的进程控制块内有关的现场信息，如程序状态字、通用寄存器等内容送入处理器相应的寄存器中，从而让它占用处理器运行。

* **程序的并发执行有什么特点？并发和并行有什么区别？**

  **特点**：

  (1)在执行期间并发程序相互制约。
  (2)程序与计算不再一一对应。
  (3)并发程序的执行结果不可再现。
  (4)程序的并行执行与程序的并发执行。

  **区别**：

  **程序的并行执行**：是指不论从宏观的时间周期上看，还是从微观上看，若干程序确实在同时运行；

  **程序的并发执行**：如果在单处理器系统中，它们在宏观上是同时进行的，但在微观上，这些程序仍然是顺序执行的。

* **简述指令的分类及相应功能。**
  (1)访问存储器指令，它们负责处理器和存储器之间的数据传送。
  (2)I/O指令，它们负责处理器和I/O模块之间的数据传送和命令发送。
  (3)算术逻辑指令，又称为数据处理指令，用以执行有关数据的算术和逻辑操作。
  (4)控制转移指令，可以指定一个新的指令的执行起点。
  (5)处理器控制指令，用于修改处理器状态，改变处理器工作方式等。
  
* **简述中断控制方式的处理过程。**
  (1)处理器通过数据总线发出命令，启动外设工作，当前进程阻塞，调度程序调度其他进程。
  (2)外设数据准备好，置位中断请求触发器。
  (3)若此时接口中断屏蔽触发器状态为非屏蔽状态，则接口向处理器发中断请求(IR)。
  (4)处理器接受中断请求，且中断为允许中断状态，则中断判优电路工作。
  (5)中断判优电路对优先级最高的中断请求给予响应(INTA)，处理器中断正在执行的其他进程，转而执行中断服务程序。
  
* **简述死锁定理。**

  (1)如果资源分配图中没有环路，则系统没有死锁。
  (2)如果资源分配图中出现了环路，则系统中可能存在死锁。
  	①如果处于环路中的每个资源类中均只包含一个资源实例，则环路的存在即意味着死锁的存在。此时**环路**是**死锁**的**充分必要条件**。
  	②如果处于环路中的每个资源类中资源实例的个数不全为1，则**环路**的存在是产生**死锁**的必要条件而不是充分条件。

* **什么是线程?简述多线程技术的优越性或引入线程的好处。**

  **线程**是进程中可独立执行的子任务，一个进程可以有一个或多个线程，每个线程都有一个唯一的标识符。线程与进程有许多相似之处，往往把线程又称为“轻型进程”(1ightweightprotess)。

  **线程与进程的根本区别**是把**进程作为资源分配单位**，而**线程是调度和执行单位**。

  **优越性**：

  (1)创建一个线程花费时间少, 不需另行分配资源，创建线程的速度比创建进程的速度快，系统开销少。
  (2)线程之间的切换花费时间少。
  (3)同一个进程内的线程共享内存和文件，所以线程之间相互通信无须调用内核，不需要额外的通信机制，使通信更简便，信息传送速度也快。
  (4)线程能独立执行，能充分利用和发挥处理器与外部设备并行工作能力。

* **在系统调用中，如何实现用户程序和系统程序之间的参数传递？**

  (1)由陷入指令自带参数。一般来说，一条陷入指令的长度总是有限的，而且，该指令还要携带一个系统调用的功能号，从而，陷入指令只能自带有限的几个参数进入系统内部。
  (2)通过系统程序和用户程序都能访问的通用寄存器来传递参数。
  (3)在内存中开辟专用堆栈区来传递参数。

  **UNIX类操作系统**通常采用第二种方法，即通过通用寄存器传递参数。

* **简述模块组合法的缺点。**
  (1)模块间转接随便，各模块互相牵连，独立性差，系统结构不清晰。
  (2)数据基本上作为全程量处理，系统内所有模块的任一程序均可对其进行存取和修改，从而造成了各模块间有着更为隐蔽的关系。要更换一个模块或修改一个模块都比较困难，因为要弄清各模块间的接口，按当初设计时随意约定的格式来给信息，这是一件相当复杂的事。
  (3)由于模块组合结构常以大型表格为中心，为保证数据完整性，往往采用全局封中断办法，从而限制了系统的并发性。系统中实际存在的并发也未能抽象出明确的概念，缺乏规格的描述方法。所以，这种结构的可适应性比较差。
  
* **简述设备独立层软件的功能。**
  (1)设备驱动程序的统一接口。
  (2)设备命名。
  (3)设备保护。
  (4)提供一个与设备无关的逻辑块。
  (5)缓冲。
  (6)存储设备的块分配。
  (7)独占设备的分配和释放。
  (8)错误处理。
  
* **(+1)简述死锁避免和死锁预防的区别**

  **死锁预防**：设法至少破坏产生死锁的四个必要条件之一，严格地防止死锁的出现。

  **死锁避免**：不那么严格地限制产生死锁的必要条件的存在，因为即使死锁的必要条件存在，也不一定发生死锁。死锁避免是在系统运行过程中注意避免死锁的最终发生, 目的是提高系统的资源利用率。

* **简述进程控制的原语的种类。**

  用于进程控制的原语：创建进程、撤销进程、挂起进程、激活进程、阻塞进程、唤醒进程、改变进程优先级等。

* **简述多级中断的作用。**
  （1）对各类中断信号依据其紧急程度和重要性划分级别。
  （2）解决如果有重要程度相当的多个中断信号同时到达时，如何选择首个被处理的中断信号的问题。
  
* **简述分布式操作系统的特点。**

  分布式操作系统是网络操作系统的更高级形式, 具备如下的特征：

  > 保持了网络操作系统的各种功能

  (1)分布式操作系统是一个统一的操作系统，在系统中的所有主机上都使用同一个操作系统。
  (2)资源的深度共享。
  (3)透明性。
  (4)自治性。

* **简述文件保密的措施。**
  (1)隐蔽文件目录。
  (2)设置口令。
  (3)使用密码。
  (4)病毒防范。
  
* **简述死锁避免的基本思想。**

  死锁避免的基本思想是：系统对进程发出的每一个系统能够满足的资源申请进行动态检查，并根据检查结果决定是否分配资源；如果分配后系统可能发生死锁，则不予分配，否则予以分配。这是一种保证系统不进入死锁状态的动态策略。

* **为避免信件丢失和错误地发出信件，通信采取的原则有哪些?**
  (1)若发送信件时信箱已满，则发送进程应被置“等信箱”状态，直到信箱有空时才被释放。
  (2)若取信件时信箱中无信，则接收进程应被置成“等信件”状态，直到有信件时才被释放。
  
* **简述中断请求响应的工作过程。**
  (1)处理器接收中断信号。
  (2)保护现场，将中断断点的程序状态字PSW和程序计数器PC值存入系统堆栈。
  (3)分析中断向量，取得中断处理程序的入口地址。
  (4)将处理器的PC值置为中断处理程序的入口地址。
  (5)调用中断处理程序。
  
* **简述SPOOLing技术的基本思想。**

  假脱机(SPOOLing)技术的全称是“同时的外部设备联机操作”。

  **基本思想**: 是用磁盘设备作为主机的直接输入输出设备，主机直接从磁盘上选取作业运行，作业的执行结果也存储在磁盘上；相应地，通道则负责将用户作业从卡片机上动态写入磁盘，而这一操作与主机并行。类似的操作也用于打印输出用户作业运行结果。

* **简述建立文件的步骤。**
  (1)检查参数的合法性。文件名是否符合命名规则，若是，则进行下一步(2)：否则报错，返回。
  (2)检查同一目录下有无重名文件。若没有，则进行下一步(3)；否则报错，返回。
  (3)在目录中有无空闲位置。若有，则进行下一步(4)；否则，不成功返回。有的系统可能要为此文件申请数据块空间, (申请一部分或一次性全部申请)。
  (4)填写目录项内容，包括文件名、用户名、存取权限、长度置零、首地址等。
  (5)返回。
  
* **简述消息缓冲区通信机制包含的内容。**
  (1)消息缓冲区。
  (2)消息队列首指针。
  (3)互斥信号量。
  (4)同步信号量。
  (5)发送消息原语。
  (6)接收消息原语。
  
* **简述PCB的主要内容。**

  进程控制块(PCB)的内容可以分成：**调度信息**和**现场信息**两大部分。
  (1)**调度信息**供进程调度时使用，描述了进程当前所处的状况，它包括进程名、进程号、地址、空间信息、优先级、当前状态、资源清单、“家族”关系、消息队列指针、进程队列指针和当前打开文件等。
  (2)**现场信息**刻画了进程的运行情况，由于每个进程都有自己专用的工作存储区，其他进程运行时不会改变它的内容，所以，PCB中的现场信息只记录那些可能会被其他进程改变的寄存器，如程序状态字、时钟、界地址寄存器等。一旦中断进程的运行，必须把中断时刻的上述内容记入进程控制块的现场信息。

* **简述时钟对操作系统的作用。**
  (1)在多道程序运行的环境中，时钟可以为系统发现一个陷入死循环（由编程错误引起）的作业，从而防止机时的浪费。
  (2)在分时系统中，用时钟间隔来实现各个作业按时间片轮转运行。
  (3)在实时系统中，按要求的时间间隔输出正确的时间信号给相关的实时控制设备。
  (4)定时唤醒要求按照事先给定的时间执行的各个外部事件（如定时为各进程计算优先数，银行系统中定时运行某类结账程序等)。
  (5)记录用户使用各种设备的时间和记录某外部事件发生的时间间隔。
  (6)记录用户和系统所需要的绝对时间，即年、月、日。
  
* **简述分时操作系统的基本工作方式。**

  分时系统中，一台计算机主机连接了若干个终端，每个终端可由一个用户使用。用户通过终端交互式地向系统提出命令请求，系统接受用户的命令之后，采用时间片轮转方式处理服务请求，并通过交互方式在终端上向用户显示结果。用户根据系统送回的处理结果发出下一道交互命令。

* **简述二级目录文件的优缺点。**

  二级目录优点：解决了文件的重名问题，可以实现用户间的文件共享，查找时间也降低了。

  二级目录缺点：增加了系统的开销。

* **简述采用信号量及P、V同步机制来编写并发程序的缺点。**
  (1)程序易读性差。

  (2)程序不利于修改和维护。

  (3)正确性难以保证。

  (4)共享变量及信号量变量的操作被分散于各个进程中

* **简述进程的基本属性。**
  (1)进程是一个可拥有资源的独立单位。
  (2)进程同时又是一个可以独立调度和分派的基本单位。

* **简述常用的I/O控制技术及其特点。**

  **DMA技术**：由DMA控制器自动控制成块数据在内存和I/O单元之间的传送，提高了处理I/O的效能。

  **通道**：独立于中央处理器，它代替处理器对外部设备实行统一的管理，从而使处理器和外部设备并行工作，提高多道程序处理的效率。

  **缓冲技术**：用以缓解处理器处理数据速度与设备传输数据速度不相匹配矛盾的一种数据暂存技术。

* **简述批处理操作系统的工作方式。**

  批处理操作系统的基本工作方式是：用户将作业交给系统操作员，系统操作员在收到作业后，并不立即将作业输入计算机，而是在收到一定数量的用户作业之后，组成一批作业，再把这批作业输入到计算机中。这批作业可在系统中形成一个连续的、自动转接的作业流。系统操作员然后启动操作系统，系统自动、依次执行每个作业，最后由操作员将执行完毕的作业结果交给用户。

* **简述通道的功能。**
  (1)接受处理器的指令，按指令要求与指定的外围设备进行通信。
  (2)从内存读取属于该通道的指令，并执行通道程序，向设备控制器和设备发送各种命令。
  (3)组织外围设备和内存之间进行数据传送，并根据需要提供数据缓存的空间，以及提供数据存入内存的地址和传送的数据量。
  (4)从外围设备得到设备的状态信息，形成并保存通道本身的状态信息，根据要求将这些状态信息送到内存的指定单元，供处理器使用。
  (5)将外围设备的中断请求和通道本身的中断请求，按序及时报告处理器。
  
* **简述I/O设备的分类。**

  (1)设备的使用特性分类：输入设备、输出设备、交互式设备、存储设备等。
  (2)系统中信息组织方式分类：字符设备和块设备。
  (3)按设备使用可共享性分类：独占设备、共享设备和虚拟设备等。

* **简述验证用户的存取操作步骤。**
  (1)审定用户的存取权限。
  (2)比较用户权限的本次存取要求是否和用户的存取权限一致。
  (3)将用户的存取要求和被访问文件的存取控制表进行比较，看是否有冲突。如果没有冲突，允许用户对有关文件进行访问；如果有冲突，处理冲突。
  
* **简述多级目录结构的优缺点。**

  多级目录结构优点：层次结构清晰，便于管理和保护，解决了重名问题，查找速度加快；

  多级目录结构缺点：查找一个文件按路径名逐层检查，由于每个文件都存储在外存，多次访盘会影响速度，结构相对比较复杂。

* **简述文件系统应具有的功能。**
  (1)统一管理文件的存储空间，实施存储空间的分配与回收。
  (2)实现文件从名字空间到外存地址空间的映射。即实现文件的按名存取，以对用户透明的方式管理名字空间。
  (3)实现文件信息的共享，并提供文件的保护和保密措施。
  (4)向用户提供一个方便使用的接口（提供对文件系统操作命令，以及提供对文件的操作命令：信息存取、加工等)。
  (5)系统维护及向用户提供有关信息。
  (6)保持文件系统的执行效率。文件系统在操作系统接口中占的比例最大，用户使用操作系统的感觉在很大程度上取决于对文件系统的使用效果。
  (7)提供与I/O的统一接口。
  
* **简述虚拟存储器系统中常用的页面调度策略。**
  (1)调入策略，虚拟存储器的调入策略决定了什么时候将一个页由外存调入内存之中。
  (2)置页策略，当线程产生缺页时，内存管理器还必须确定将调入的虚拟页放在物理内存的最佳位置。
  (3)置换策略，如果缺页发生时物理内存已满，“置换策略”被用于确定哪个虚页面必须从内存中移出为新的页面腾出空位。
  
* **简述资源分配图的化简方法。**

  (1)在资源分配图中，找出一个既非等待又非孤立的进程结点Pi，由于Pi可获得它所需要的全部资源，且运行完后释放它所占有的全部资源，故可在资源分配图中消去Pi所有的申请边和分配边，使之成为既无申请边又无分配边的孤立结点。
  (2)将Pi所释放的资源分配给申请它们的进程，即在资源分配图中将这些进程对资源的申请边改为分配边。
  (3)重复(1)、(2)两步骤，直到找不到符合条件的进程结点。

* **简述死锁产生的四个必要条件。**

  (1)互斥条件。
  (2)不可剥夺条件。
  (3)请求和保持条件。
  (4)循环等待条件。

* **简述系统对相关临界区的调度使用原则。**

  (1)**有空让进**：当临界区为空时，若有一个进程要求进入临界区，应允许它立即进入临界区。
  (2)**无空等待**：若有一个进程已在临界区时，其他要求进入临界区的进程必须等待。
  (3)**多中择一**：当没有进程在临界区，同时有多个进程要求进入临界区，只能让其中之一进入临界区，其他进程必须等待。
  (4)**有限等待**：任一进程进入临界区的要求应在有限时间满足。
  (5)**让权等待**：处于等待状态的进程应放弃占用处理器。

* **对相关临界区的管理有哪些要求?**

  (1)一次只允许一个进程进入临界区，当有进程在临界区中时，其他想进入临界区执行的进程必须等待；

  (2)一个进入临界区执行的进程必须在有限的时间内退出临界区，即任何一个进程都不应该无限地逗留在自己的临界区中；

  (3)不能强迫一个进程无限地等待进入它的临界区，即有进程退出临界区时应让下一个等待进入临界区的进程进入它的临界区执行。

* **简述引起进程调度的因素。**
  (1)正在执行的进程运行完毕。
  (2)正在执行的进程由于某种错误而终止。
  (3)时间片用完，即有一个进程从运行状态变为就绪状态。
  (4)正在执行的进程调用阻塞原语将自己阻塞起来，即一个进程从运行状态进入阻塞状态。
  (5)创建了新的进程，即有一个新的进程进入就绪队列。
  (6)正在执行的进程调用了唤醒原语操作激活了等待资源的进程，即一个等待状态的进程变为就绪状态。
  
* **简述进程和程序的区别。**

  (1)程序是静态的，进程是动态的。
  (2)进程是程序的一个执行过程。程序的存在是永久的。进程是为了程序的一次执行而暂时存在的。进程有生命周期有诞生，亦有消亡。
  (3)一个进程可以包括若干程序的执行，而一个程序亦可以产生多个进程。
  (4)进程具有创建其他进程的功能。被创建的进程称为子进程，而创建者称为父进程，从而构成了进程家族。

* **简述多个中断的处理策略。**

  (1)对于多个中断进行处理的第一种策略：正当处理一个中断时禁止其他中断，此时系统将对任何新发生的中断置之不理。在这期间发生的中断将保持挂起状态。当处理器再次允许中断时，这个新的中断信号会被处理器检测到，并做出处理。
  (2)对于多个中断进行处理的第二种策略：中断嵌套。即中断按照优先度分级，允许优先级较高的中断打断优先级较低的中断处理过程，于是引起中断处理的嵌套。

* **简述指令执行的基本过程。**

  最简单的处理指令方式包括两个步骤：

  首先，处理器每次从存储器中读取一条指令，并在取指令完成后，根据指令类别自动将程序计数器的值变成下一条指令的地址，通常是自增1；

  其次，取到的指令被存储在处理器的指令寄存器中，处理器解释并执行这条指令。一个这样的单条指令处理过程称为一个指令周期。程序的执行就是由不断取指令和执行指令的指令周期组成的。仅仅当机器关机、发生某些未发现的错误或者遇到停机相关的指令时，程序才会停止。

* **简述存储管理的任务。**

  存储管理有三个方面的任务：

  (1)当多个程序共享有限的内存资源时，要考虑如何为多个程序分配有限的内存空间；

  (2)存储在内存中的多个程序和数据应该被此隔离、互不侵扰；

  (3)解决内存扩充的问题，即将内存和外存结合起来管理，为用户提供一个容量比实际内存大得多的虚拟存储器。

* **用抢夺资源的方法解除死锁时要注意什么问题?**

  (1)抢夺进程资源时希望付出的代价最小；

  (2)为被抢夺者的恢复准备好条件，如返回某个安全状态，并记录有关信息；

  (3)防止被抢夺资源的进程“饿死”，一般总是从执行时间短的进程中抢夺资源。

* **什么叫系统处于安全状态?常用什么方法保持系统处于安全状态?**

  **系统处于安全状态**：如果操作系统能保证所有的进程在有限的时间内得到需要的全部资源，则称系统处于安全状态。

  **方法**：常用银行家算法动态地检测系统中的资源分配情况和进程对资源的需求情况进行资源分配，确保系统处于安全状态。

* **说明资源的抢夺式分配策略防止死锁的方法。**

  (1)一个进程申请的资源尚未被占用，则系统可以把资源分配给该进程。

  (2)若进程A申请的资源R1已经被进程B占用，则查看进程B的状态。如果进程B处于等待另一个资源的状态，那么就抢占进程B的资源R1，并把R1分配给进程A；如果进程B不处于等待资源状态，则让进程A处于等待资源R1的状态。

  (3)一个等待资源的进程只有在得到自己所申请的新资源和所有被抢夺的资源后才能继续执行。

* **在死锁防止中，破坏占有并等待资源条件，有哪些方法?简述各自的分配策略。**

  **破坏占有并等待资源条件**，常用“**静态资源分配**”和“**释放已占资源**”两种方法。

  (1)**静态资源分配**：要求每个进程在开始执行前申请所需的全部资源，仅在系统为之分配了所需的全部资源后，该进程才开始执行。

  (2)**释放已占资源**：仅当进程没有占有资源时，才允许它申请资源。因此，如果进程已经占用了某些资源而又要再申请资源，则需先归还所占的资源，归还后才允许申请新资源。

* **试说明资源的静态分配策略能防止死锁的原因。**

  资源静态分配策略要求每个进程在开始执行前申请所需的全部资源，仅在系统为之分配了所需的全部资源后，该进程才开始执行。进程在执行过程中不再申请资源，从而破坏了死锁的四个必要条件之一“占有并等待条件(请求与保持)”，从而防止死锁的发生。

* **解决死锁问题的具体途径有哪些?**

  (1)死锁的防止是通过破坏死锁四个必要条件中的任何一个实现的；

  (2)死锁的避免是通过避免进程进入不安全状态来实现的；

  (3)死锁的检测和解除是配合使用的，当系统检测到出现死锁状态时，就通过死锁解除方法来解除死锁。

* **若系统只有一个进程，它会被卷入死锁吗?请说明理由。**

  若系统中只有一个进程，无论该进程涉及多少资源的使用，只要使用得当，就不会产生死锁。在这里我们可以使用反证法来说明问题：证明：假定系统中只有一个进程时出现死锁，则根据产生死锁的必要条件可知：此时系统进程同时具备以下四个必要条件：(1)互斥使用资源；(2)占有并等待资源；(3)不可抢夺资源；(4)循环等待资源。其中，第四个条件“循环等待资源”要求必须至少存在两个(或两个以上)进程才可能产生，而题设中说明系统只有一个进程。因此，必不会构成循环等待的条件。这样，死锁的四个必要条件中没有完全成立，即与证明开始作的假设是相互矛盾的。所以，若系统中只有一个进程，不会产生死锁现象。

* **为什么要把“启动I／O”等指令定义为特权指令?**

  (1)保证输入／输出的完整性, 避免造成冲突，影响系统安全。

  (2)外围设备的启动工作由操作系统统一管理, 可以使安全地使用外围设备，正确地传送信息

  (3)减少用户对外围设备特性和组织启动等工作的了解，方便用户。

* **简述trap处理子程序的主要职能。**

  (1) 处理中断事件

  (2) 根据trap指令中的系统调用编号查系统调用程序入口表，得到该系统调用所带的参数个数和相应的处理程序的入口地址

  (3) 把参数传送到内核的系统工作区，再按处理程序入口地址转向该系统调用的处理程序执行。

  (4) 当系统调用程序完成处理以后, 对被暂停的用户程序进行状态恢复等后续处理。

* **操作系统为用户提供哪些接口?**

  **操作员级**：它为用户提供控制作业执行的手段；

  **程序员级**：它为用户程序提供服务功能。

* **计算机系统中既有操作系统程序，又有用户程序，在什么情况下操作系统程序才能占用中央处理器?**

  系统初始化后，把操作系统的核心程序装入主存储器， 操作系统就处于等待状态，当用户请求操作系统服务，中断装置中断原来占用中央处理器的程序执行，而让操作系统的处理事件服务程序占用中央处理器，对出现的事件进行处理，待操作系统对事件处理完成后，再让原来的程序继续占用中央处理器执行。

* **一个名为proc的shell文件，解释下述shell文件的含义**

  ```shell
  cc prog1.c # 对名为prog1.c的C语言源程序进行编译, 由于编译命令cc没有给出目标程序名，所以系统总是把目标程序放在a．out文件中
  mv a.out prog1.0  # 把目标程序名a.out改为prog1.0
  prog1.0 # 运行目标程序prog1.0
  ```

* **简述操作系统采用层次结构的优点和难点。**

  **操作系统层次结构的主要优点**：有利于系统的设计与调试。实现各层次的功能时都可以利用较内层提供的功能，不必知道内层的功能是怎样实现的，只需知道这些功能可以做什么。调试工作可以从最内层开始，最内层只使用硬件提供的功能，调试时无需考虑其他部分。一旦最内层调试通过，则第二层可在最内层提供的功能上执行。依此类推，直到完成各层功能的调试。

  **操作系统层次结构的主要困难**：**层次的划分和安排**。由于每一层只能利用位于它内层提供的功能，因而需要仔细地规划每一层的功能，以保证操作系统工作过程中不出现**双向依赖**关系。

* **UNIX的层次结构有什么特点?**

  UNIX分为**内核层**和**外壳层**两部分。

  **内核层**：是UNIX操作系统的核心。它具有存储管理、文件管理、设备管理、进程管理等功能，以及为外壳层提供服务的系统调用。UNIX的内核程序用C语言和汇编语言编写。

  **外壳层**：为用户提供各种操作命令和程序设计环境。外壳层由shell解释程序、支持程序设计的各种语言，编译程序、解释程序、实用程序和系统库等组成。外壳层的其他程序都是在执行命令时根据命令的要求而被启动的；

* **UNIX是怎样允许一个用户同时执行两个以上任务的?**

  UNIX规定，只要在执行的命令末尾输入字符“&”，系统在执行命令时，就把实现这条命令功能的程序转入后台执行。

  UNIX把一个程序转入后台执行后，不等该程序执行完就立即返回前台，此时允许用户输入新的命令提示符，如果这时用户又输入了一条新命令，那么实现这条新命令功能的程序就与已转入后台执行的程序同时执行。 

* **应从哪方面考虑操作系统的结构设计?**

  正确性：一个结构良好的操作系统不仅能保证正确性而且易于验证其正确性；

  高效性：核心程序是影响计算机系统效率的关键所在，应遵循少而精的原则，使处理既有效又灵活；

  可维护性：操作系统要容易维护；

  可移植性：在结构设计时，尽量减少与硬件直接有关的程序量并将其独立封装。

* **简述引导程序的作用。**

  计算机系统引导程序启动，进行系统初始化；操作系统的核心程序装入主存储器，并让操作系统的核心程序占用处理器执行。

* **什么是缓冲技术?采用缓冲技术的优点是什么?**
  **缓冲技术**: 在操作系统中，把利用缓冲区来缓解处理器与外围设备之间工作速度不匹配的矛盾而采用的技术。

  **缓冲技术优点**：既能协调逻辑记录大小与物理块大小不一致的问题，又能缓解处理器与外围设备之间速度不匹配的矛盾。
  
* **简述虚拟设备的实现原理。**

  把一批作业的全部信息通过输入设备预先传送到磁盘上等待处理。在多道程序设计系统中，可从磁盘上选择若干个作业同时装入主存储器，并让它们同时执行。由于作业的信息已全部在磁盘上，故作业执行时不必再启动输入机读信息，而可以从共享的磁盘上读取各自的信息。把作业产生的结果也存放在磁盘上，而不直接启动打印机输出。直到一个作业得到全部结果而执行结束时，才把该作业的结果从打印机输出。可见在作业执行过程中不需要使用输入机和打印机。因此系统只配置一台输入机和一台打印机的情况下，可让多个作业同时执行。

* **什么叫独占设备?什么叫共享设备?各举一例。**

  **独占设备**：每次只能供一个作业在执行期间单独使用的设备，如打印机。

  **共享设备**：若干个作业在执行期间可同时使用的设备，如磁盘机。

* **什么是设备的绝对号和相对号?**

  **设备的绝对号**：计算机系统对每一台设备都要进行登记，且为每一台设备确定一个编号，以便区分和识别。

  **设备的相对号**：由用户对自己需要使用的若干台同类设备给出的编号。

* **设备通常分为哪两类?**

  (1**)独占设备**：在一段时间内只能一个进程占有并使用它，不允许多个进程同时(交替)使用，如**打印机**、**磁带机**等设备，对这类设备往往采用静态分配方式。

  (2)**共享设备**：允许多个进程共享使用的设备，如**磁盘机**。

* **什么是“驱动调度”?比较“最短寻找时间优先”算法和“电梯调度”算法。**

  **驱动调度**：系统往往采用一定的调度策略来决定各等待访问者的执行次序，此项工作称为“驱动调度”。

  **最短寻找时间优先调度算法**：总是从等待访问者中挑选寻找时间最短的那个请求先执行，不考虑读写头移动的方向。

  **电梯调度算法**：总是从移动臂当前位置开始沿着臂的移动方向去选择离当前移动臂最近的那个柱面的访问请求。

* **简述UNIX的块设备缓冲技术的特点。**

  UNIX采用缓冲技术实现设备的读写操作。系统设置一批缓冲区，构成系统缓冲区池。

  对写操作，驱动程序分配一个缓冲区，先把信息从用户空间复制到缓冲区，再启动设备把缓冲区中信息保存起来。

  对读操作，启动设备后把指定的信息传送到一个缓冲区中，再将信息复制到指定的用户空间。这样做的目的是减少启动设备的次数。

  例如，用户要往磁盘上写信息，系统只要把它复制到缓冲区，当以后又要使用这些信息时，系统就可以直接从缓冲区读出。仅当不得不把信息写到磁盘上时，才真正地去启动磁盘机执行写操作。显然，这种延迟往磁盘上写的方式减少了对磁盘的存取频率。

  同样地，当要读信息时，如果信息已在缓冲区中，则可不必启动设备。如果信息不在缓冲区中，则才去启动设备执行读操作。这种缓冲技术对块设备来说是非常有效的，因为系统运行期间经常要读写文件，采用缓冲技术可减少对块设备的访问次数，提高整个系统的吞吐率。

* **设备管理的主要功能是什么?**

  (1)实现对外围设备的分配与回收；

  (2)实现外围设备的启动；

  (3)实现对磁盘的驱动调度；

  (4)处理外围设备的中断事件；

  (5)实现虚拟设备。

* **SPOOLING系统由哪些部分组成?各部分的功能是什么?**

  (1)预输入程序：负责把一批组织在一起的作业流中的每个作业的初始信息传送到“输入井”保存以备作业执行时使用。

  (2)井管理程序：包括井管理读程序和井管理写程序两个功能。井管理读程序负责从输入井上读取文件信息供用户使用；井管理写程序负责把作业执行产生的结果保存到输出井中。

  (3)缓输出程序：负责查看输出井中是否有待输出的结果信息。若有，则启动打印机把作业的结果文件打印输出。

* **实现虚拟设备的主要条件是什么?**

  实现虚拟设备必须要有一定的硬件和软件条件为基础。

  对于硬件来说，必须配置大容量的磁盘，要有中断装置和通道，具有中央处理器与通道并行工作的能力。

  对于操作系统来说，应采用多道程序设计技术。

* **为什么具有设备独立性的计算机系统，在分配设备时适应性好、灵活性强?**

  (1)系统只要从指定的设备类中找出一台“好的且未分配的”设备来进行分配。

  (2)万一分配给用户的设备在使用中出了故障，系统可以从同类设备中另找一台“好的且未分配的”设备来替换。

* **解释“设备的独立性”。**

  **设备的独立性**：用户申请分配独占设备时，不是具体指定要哪台设备，而是指出要申请分配哪一类设备多少台，且在用户程序中使用由“设备类、相对号”定义的逻辑设备。在程序执行时，系统把用户程序中指定的逻辑设备转换成具体的物理设备，并启动该设备工作。所以，用户编制程序时使用的设备与实际能占用的设备无关。

  具有设备独立性的计算机系统，在分配设备时适应性好，灵活性强。

* **电梯调度算法与最短寻找时间优先调度算法在减少移动臂移动方面有什么区别?**

  **相同**：**电梯调度算法**和**最短寻找时间优先调度算法**都是要尽量减少移动臂移动所花费的时间。

  **区别**：

  **最短寻找时间优先调度算法**：不考虑移动臂的移动方向，总是选择离当前移动臂位置最近的那个柱面去访问，这样可能导致移动臂来回改变移动的方向；

  **电梯调度算法**：规定沿着移动臂移动的方向去访问，仅当沿移动臂方向再无等待访问者时才改变移动臂的移动方向，不会产生移动臂来回改变移动方向的情况。

  由于移动臂改变方向是机械动作，所以速度相对较慢。相比之下，电梯调度算法是一种简单实用且高效的调度算法。但是在实现时，除了要记住读写磁头的当前位置外，还必须记住移动臂的移动方向。

* **SPOOLING系统为什么能提高独占设备的利用率?**

  SPOOLING系统借助于硬件的中断装置和通道技术，使得中央处理器与各种外围设备以及外围设备之间均可并行工作。

  操作系统采用多道程序设计技术，合理分配处理器，实现联机的外围设备同时操作。作业执行时，从磁盘上读写信息代替从输入机和打印机的读写操作，不仅使多个作业可以同时执行，而且加快了作业的执行速度，提高了单位时间内处理作业的能力。在作业执行的同时还可以利用输入机继续预输入作业信息和利用打印机输出结果。

  于是整个系统可以是：第一批作业的执行结果正在输出，第二批作业正在处理，第三批作业信息正在预输入到磁盘的输入井中。这种联机同时操作极大地提高了独占设备的利用率，也使计算机系统的各种资源被充分利用。

* **UNIX对磁盘缓冲区的管理原则是什么?**

  (1)当需要一个缓冲区时，总是从空闲缓冲区队列的队首取一个缓冲区。一个被使用过的缓冲区释放时，总是排入空闲缓冲区队列的队尾。

  (2)一个缓冲区被分配用于读写某磁盘块信息时，这个缓冲区就从空闲缓冲区队列退出，并链入该设备的设备缓冲区队列，该缓冲区的状态标志中应置上BUSY标志。

  (3)当缓冲区中的信息传送到用户空间后，或当用户信息写到了缓冲区且对缓冲区置上DELWR标志后，这样的缓冲区可以释放。此时便清除缓冲区中的BUSY标志，把它链到空闲缓冲区队尾，同时仍把它保留在该设备的设备缓冲区队列中。

  (4)分配缓冲区时，总是摘取空闲缓冲区队列中的第一个缓冲区。但如果该缓冲区有DELWR标志(延迟写标志)，则表示该缓冲区信息尚未写回磁盘，暂不能分配。

  (5)如果一个缓冲区既在空闲缓冲区队列中，又在设备缓冲区队列中，而该缓冲区被分配移作它用，则要让它从空闲缓冲区队列和原设备缓冲区队列退出，且链入新的设备缓冲区队列。

* **解释通道命令、通道程序、通道地址字和通道状态字。**

  通道命令：通道命令规定设备的操作，每一种通道命令规定了设备的一种操作，通道命令一般由命令码、数据主存地址、传送字节个数及标志码等部分组成。

  通道程序：操作系统可以用若干条通道命令规定通道执行一次输入／输出操作应做的工作。这若干条通道命令就组成了一个通道程序。

  通道地址字：即ChannelAddressWord，缩写为CAW。在具有通道的计算机系统中，用来存放通道程序首地址的主存固定单元称为通道地址字。

  通道状态字：即ChannelStatusWord，缩写为CSW。当通道程序执行结束时，被记录的执行情况也要存放到一个固定的主存单元中。这个单元称为通道状态字(CSW)。

* **为什么说先来先服务磁盘调度算法效率不高?**

  因为引臂移动速度很慢，如果按照访问请求发出的次序依次读写各个磁盘块，则磁头引臂将可能频繁地大幅度移动，容易产生机械振动，亦造成较大的时间开销，影响效率。

* **简述I／O中断。**

  I／O中断是通道和中央处理器协调工作的一种手段。通道借助于I／O中断请求中央处理器进行干预，中央处理器根据产生的I／O中断事件了解输入输出操作的执行情况。

  I／O中断事件可以分为**操作正常结束**和**操作异常结束**两类。

* **进程通信方式有两种，即直接通信和间接通信，给出各自使用的原语形式。**

  (1)直接通信： 这种通信方式是固定在一对进程之间进行。例如，进程A把信件只发送给进程B， 而进程B也只接收进程A的信件。那么，“send”和“receive”两条原语的形式如下： send(B，M) 把信件M发送给进程B receive(A，X) 接收来自进程A的信件且存入X中 进程A和进程B通过“send”和“receive”操作而自动建立了一种联结。 

  (2)间接通信： 这种通信方式是以信箱为媒体来实现通信的，只要接收信件的进程设立一个信箱，那么，若干个进程都可向同一个进程发送信件。利用信箱通信时“send”，“receive”原语中应给出信箱名，即： send(N，M) 把信件M送入信箱N中 receive(N，X) 从信箱N中取出一封信存入X中

* **为什么并发进程执行时可能会产生与时间有关的错误?如何避免?**

  有交互的并发进程可能会同时使用共享资源，如果对这种情况不加控制，由于进程占用处理器的时间、执行的速度和外界的影响等，就会引起与时间有关的错误。

  避免：只要使若干并发进程的相关临界区互斥执行，就可避免造成这类错误。

* **进程在临界区被中断，能否让另一个进程进入临界区执行?为什么?**

  不可以。被中断的进程尚未退出临界区，所以S的值是0，一个进程进入临界区前要先调用PS，此时信号量S减去1，则S的值一定小于0，所以，要进入临界区的进程只能继续等待。

* **简述进程同步机制。**

  进程的互斥是进程同步的一种特殊情况，互斥使用资源的进程之间实际上也存在一个进程等待另一个进程发送消息的制约关系。因此，我们经常把进程的互斥和进程的同步统称为进程的同步，把用来解决进程互斥和进程同步的机制称为进程同步机制。

* **简述信号量S的物理含义。**

  S>0时，S表示可使用的资源数；或表示可使用资源的进程数。

  S=0时，表示无资源可供使用；或表示不允许进程再进入临界区。

  S<0时，|S|表示等待使用资源的进程个数；或表示等待进入临界区的进程个数。

  当S>0时，使用p(S)的进程不会等待；调用V(S)后使可用资源数加1或使可用资源的进程数加1。

  当S≤0时，调用p(S)的进程必须等待；调用V(S)后将释放一个等待使用资源者或释放一个等待进入临界区者。

* **解释进程的顺序性和并发性。**

  目前使用的计算机基本上是冯•诺依曼(VonNeumann)式结构，其基本特点是处理器顺序执行指令。进程在顺序的处理器上的执行是严格按顺序进行的，这就是进程的顺序性。

  当一个进程独占处理器顺序执行时，具有两个特性：

  (1)封闭性，进程执行的结果只取决于进程本身，不受外界影响；

  (2)可再现性，当进程再次重复执行时，必定获得相同的结果。

  进程具有并发性。是说在一个进程的工作没有全部完成之前，另一个进程就可以开始工作。并发进程相互之间可能是无关的，也可能是有交互的。这些有交互的进程共享某些资源。

* **简述UNIX系统中管道机制pipe和FIFO的区别。**

  **pipe文件**是一种在两个进程间传送信息的临时文件。一旦写入pipe文件中的信息被读取后，这个pipe文件就没有必要保存了，它占用的存储空间就可被收回。

  **命名管道FIFO**适用于不同用户的进程间的通信。所谓命名管道，实际上是一个冠有文件名的管道文件。命名管道的使用方式与无名管道的使用方式不同。对命名管道的使用就像对普通文件的使用一样，要通过文件操作来使用。首先必须建立文件，读写之前先打开文件，通信结束后要关闭文件。命名管道属于该文件的建立者所有。在建立有名管道文件时可设置访问权限。只有被授权的用户才可按访问权限使用有名管道文件。利用有名管道文件进行通信时，通信的发送者用“只写”方式打开，通信的接收者用“只读”方式打开。对被打开的有名管道文件，进程可按打开的方式对该文件读或写。在读写的过程中管道机制要对读写操作进行同步控制，以保证信息传输的正确性。通信结束后要关闭该文件，以后需要时可再次打开。

* **利用信箱的通信机制中，应设置哪些基本通信原语?它们的功能是什么?**

  利用信箱的通信机制中，应设置发送原语(send原语)和接收原语(receive原语)。

  “发送”原语和“接收”原语的功能是：

  发送原语send(N，M)：把信件M送到指定的信箱N中；

  接收原语receive(N，Z)：从指定信箱N中取出一封信，存到指定的地址Z中。

* 时间片轮转调度算法中，时间片值的选取对系统有什么影响? TODO

  时间片值的大小关系到计算机系统的效率和用户的满意度，所以，时间片的值应根据进程要求系统给出应答的时间和进入系统的进程数来决定。如果要求系统快速应答则时间片小一些，这样使轮转一遍的总时间减少而可对进程尽快应答。如果进程数少，则时间片可以大一些，这样可减少进程调度的次数，提高系统效率。对每个进程可规定相同的时间片，但有的系统对不同的进程规定不同的时间片，例如，对很少使用外围设备而需要运算时间长的进程，给一个大一些的时间片，以达到减少调度次数加快进程执行速度的目的。但应注意到，时间片值过大时该算法退化为先来先出服务；时间片值过小时，加重系统开销。时间片值的大小关系到计算机系统的效率和用户的满意度，所以，时间片的值应根据进程要求系统给出应答的时间和进入系统的进程数来决定。如果要求系统快速应答则时间片小一些，这样使轮转一遍的总时间减少而可对进程尽快应答。如果进程数少，则时间片可以大一些，这样可减少进程调度的次数，提高系统效率。对每个进程可规定相同的时间片，但有的系统对不同的进程规定不同的时间片，例如，对很少使用外围设备而需要运算时间长的进程，给一个大一些的时间片，以达到减少调度次数加快进程执行速度的目的。但应注意到，时间片值过大时该算法退化为先来先出服务；时间片值过小时，加重系统开销。

* **简述中断装置的主要职责。**

  (1)检查是否有中断事件发生；

  (2)如果有中断事件发生，则暂停当前执行的进程，并做好断电保护；

  (3)启动操作系统的中断处理程序。

* **中断装置如何判别是发生了自愿性中断还是强迫性中断?**

  处理器执行指令时，根据操作码是否是访管指令，来确定是否有自愿性中断事件发生。若有，则通知中断装置；对于强迫性中断，中断装置只要检查中断寄存器的内容，非“0”表示有中断事件发生。

* **(+1)进程具有哪些基本特征?**

  (1)动态性：进程是程序的一次执行过程，在执行过程中进程状态不断发生变化。

  (2)并发性：若干进程是可同时执行的，它们轮流占用处理交替运行。

  (3)异步性：进程的执行速度取决于自身与外界原因以及能占用处理器的时间，因此以不可预知的速度向前推进。

* **中断分为哪几种类型，给出各自的含义。**

  (1)硬件故障中断。它是由于机器故障造成的。例如，电源故障、主存出错等。

  (2)程序性中断。这是由于程序执行到某条机器指令时可能出现的各种问题而引起的中断。例如，发现定点操作数溢出、除数为“0”、地址越界、使用非法指令码、目态下的用户使用了特权指令等。

  (3)外部中断。这是由各种外部事件引起的中断。例如，按压了控制板上的一个中断键、设备的定时时钟的时间已到。

  (4)输入／输出中断。输入／输出控制系统发现外围设备完成了输入／输出操作或在执行输入／输出操作时通道或外围设备产生错误而引起的中断。

  (5)访管中断。它是正在运行的进程为了请求调用操作系统的某个功能而执行一条“访管指令”所引起的中断。例如，用户要求分配一台外围设备、要求分配一些主存区域、要求启动外围设备读入一批数据等。

* **简述UNIX进程的组成。UNIX进程的特点。**

  UNIX进程由**进程控制块**、**正文段**和**数据段**三部分组成，其中**进程控制块分为**：**基本进程控制块**和**扩充进程控制块**。

  **UNIX进程特点**: 

  UNIX不区分系统进程和用户进程。

  UNIX中的进程既可以执行操作系统程序，又可以执行用户程序，按照需要进行转换。

  UNIX中的进程在用户态或核心态执行时分别拥有不同的权力。

* **什么是进程?为什么要引入进程的概念?**

  进程是一个程序在一个数据集上的一次执行。引入进程的目的在于从变化的角度动态地研究程序的执行情况，提高资源的利用率。

* **简述进程控制块的作用。**

  (1)以“进程名”的方式标识进程；

  (2)说明本进程的情况，如进程状态、等待原因、进程程序存放位置、进程数据存放位置等；

  (3)当进程让出处理器时，把与处理器有关的各种现场信息保留下来，以便该进程在重新获得处理器时能把被保留的现场信息重新置入处理的相关寄存器中继续执行；

  (4)对进程进行管理和调度。

* **进程控制块PCB中应该包括哪些内容，其作用是什么?**

  进程控制块是用以记录进程有关信息的一个数据集合，其中登记着诸如：**进程标识**、**进程状态**、**优先级**、**中断现场**、**所占资源**等信息。它是由系统为每个进程分别建立的，并且在进程结束其生命期时由系统将相应的PCB撤销，PCB是进程存在的标识。

* **什么是进程队列?具有什么作用?**

  为了便于管理处于不同状态的进程，经常把处于相同状态的进程链接在一起，称为“进程队列”，进程队列是操作系统管理进程的一种数据组织。

  就绪队列：把若干个等待运行的进程(**就绪进程**)按一定的次序链接起来的队列；

  等待队列：把等待资源或等待某些事件的进程组成的队列。有时可以把等待队列按等待的原因分成若干个相应的等待队列。

* **在设计批处理作业调度算法时，需考虑的原则是什么?**

  (1)公平性；

  (2)平衡资源使用；

  (3)极大的流量。

* **UNIX中进程的优先数和优先权之间有什么关系?**

  UNIX中每个进程都有一个优先数，进程的优先数随进程的执行情况而变化。就绪进程能占用处理器的优先权取决于进程的优先数，**优先数越小则优先权越高**。进程调度总是让优先权高的进程先占用处理器，占用处理器的进程每次可使用一个规定的时间片。当进程运行中由于各种事件让出处理器时，或当用完了一个时间片而被剥夺了占用处理器的权利时，进程调度就再从就绪队列中选择优先权高的进程占用处理器。

* **简述批处理操作系统的作业调度和作业调度选择作业的必要条件。**

  (1)批处理操作系统一般采用SPOOLING技术，操作员用“预输入命令”启动“预输入程序”，将作业信息存放到输入井中。操作系统按一定的算法从输入井中选取若干作业装入主存储器，使它们有机会获得处理器运行，此工作就是“作业调度”。

  (2)作业调度选取作业的必要条件是系统中的现有资源能满足被选作业的要求。

* **进程与程序有什么区别?为什么要引入进程?**

  进程与程序的区别：进程是一个程序在一个数据集合上的一次执行，是动态的；而程序是静止的概念。

  为什么要引入进程：从程序的角度无法描述一个程序同时被多个用户调用时的工作状态，而引入进程后，一个程序被多个用户调用时就形成多个进程，它们能正确反映该程序为各用户服务时的动态执行情况。

* **什么是多道程序设计? 为什么说计算机系统采用了多道程序设计技术后，能提高整个系统的效率?**

  多道程序设计是让多个计算问题同时装入一台计算机系统的主存储器并行执行，这种程序设计技术称为多道程序设计

  (1)提高了处理器的利用率；

  (2)充分利用外围设备资源：计算机系统通常配置多种外围设备，采用多道程序并行工作时，可以将使用不同设备的程序搭配在一起同时装入主存储器，使得系统中各外围设备经常处于忙碌状态，系统设备资源被充分利用；

  (3)发挥了处理器与外围设备以及外围设备之间的并行工作能力。从总体上说，采用多道程序设计技术后，可以有效地提高系统中资源的利用率，增加单位时间内的算题量，从而提高了吞吐量。

* **引起“进程切换”的时机有哪些?**

  我们把一个进程让出处理器由另一个进程占用处理器的过程称为进程切换。

  引起进程切换的情况有如下几种：

  (1)一个进程从运行状态变为等待状态。

  (2)一个进程从运行状态变为就绪状态。

  (3)一个进程从等待状态变为就绪状态。

  (4)一个进程运行完成后被撤销。

* **为什么不能屏蔽自愿性中断?**

  自愿性中断事件是正在运行程序所期待的中断事件，它是正在运行程序为了请求调用操作系统的某个功能服务而执行一条“访管指令”所引起的中断。当处理器执行到访管指令时就会产生一个自愿中断，自愿中断是确定的。自愿中断不同于强迫性中断，强迫性中断不是正在运行程序所期待的，是由于外部的请求或意外而被迫打断正在运行进程的，系统必须响应这些中断。自愿中断既然是确定中断，是用户程序访问系统功能的手段，所以，自愿中断是不能屏蔽的。

* **采用多道程序设计技术时应注意哪些问题?**

  采用多道程序设计能改变系统资源的使用情况，提高系统效率。但是应注意以下两个问题：

  (1)可能延长程序的执行时间；

  (2)并行工作道数与系统效率不成正比。从表面上看，只要增加并行工作道数就可提高系统效率，但实际上并行工作道数与系统效率是不成正比的，因为并行的道数要根据系统配置的资源和用户对资源的要求而定：

  ①主存储器的大小限制了可同时装入的程序数量；

  ②外围设备的数量也是一个制约条件；

  ③多个程序同时要求使用同一资源的情况也会经常发生。总之，多道程序设计能提高系统资源的使用效率，增加单位时间的算题量；但是对每个计算问题来说，从算题开始到全部完成所需要的时间可能延长，另外在确定并行工作道数时应综合系统的资源配置和用户对资源的要求。

* **在分级调度算法中，为什么对不同就绪队列中的进程规定使用不同长度的时间片?**

  在分级调度算法中，对不同就绪队列中的进程规定使用不同长度的时间片。一般来说，第一级就绪队列的时间片短一些，以后各级就绪队列的时间片逐级增长，最后一级就绪队列的时间片最长。这是因为：

  (1)运行时间短的进程只需要经过前面几级队列就能得到结果，且它们被优先调度，有利于提高系统的吞吐率；

  (2)对运行时间长的进程在进入了低级就绪队列后可以得到较长的时间片，以减少调度次数来保证系统效率；

  (3)对经常使用外围设备的进程来说，每次等待外围设备传输结束后总是链入第一级就绪队列，它们会被优先调度，有利于处理器与外围设备以及外围设备之间的并行工作，从而提高系统资源的使用效率。因此，在分级调度算法中，对不同就绪队列中的进程规定使用不同长度的时间片。

* **UNIX在什么情况下要进行进程调度?调度程序swtch的主要任务是什么?**

  在UNIX系统中，进程调度的工作由swtch程序来完成。

  在下列情况下就要启动swtch程序重新启动选择一个进程占用处理器：(1)进程完成了预定的工作而终止；

  (2)进程因等待某些事件而进入睡眠状态；

  (3)进程用完了一个规定的时间片；

  (4)发现有比现行进程更高优先权的进程；

  (5)对捕俘到的异常情况处理结束后。进程调度程序swtch的主要任务是：在主存就绪的进程中，选择一个优先数最小的进程，为被选中的进程恢复现场信息。

* **UNIX中创建一个进程要做哪些主要工作?**

  在UNIX中，除了0号进程和1号进程外，其他的进程总是使用系统调用fork来创建新进程，形成父子关系。父进程和子进程可以并发执行，子进程可以共享父进程的正文段和已打开的文件。由fork创建的子进程实际上是其父进程的一个映像，除了进程的状态、标识和与时间有关的控制项外，全部复制父进程的proc、user、栈和数据区。

  fork的主要工作如下：

  (1)在进程表proc[]中为子进程找一个空闲的表项，用来存放子进程的proc结构。

  (2)为子进程分配一个唯一的标识号。

  (3)把父进程proc中的字段复制到子进程的proc中，但把分配到的标识号置于p-pid中，把p-pid置为父进程的标识号，把p-stat置为创建状态。

  (4)按父进程中p-size所示的长度为子进程申请分配主存。

* **简述为了降低换进换出的频率，提高系统效率，UNIX系统的交换进程采取的措施。**

  换出一个进程时，被其他进程正在共享的正文段不能换出；当对换区有就绪进程且内存有足够空间时，立即把它换进；为了换进一个进程而必须换出其他进程时，总是先换出在内存睡眠的进程。

* **当进程调度选中一个进程后，怎样才能让它占用处理器?**

  把选中进程的进程控制块中有关的现场信息送入处理器相应的寄存器中，处理器就按该进程要求工作，达到了进程占用处理器的目的。

* **简述主存空间的分配和回收的含义与处理方法。**

  **主存空间的分配**：主存储中允许同时容纳各种软件和多个用户的计算问题(作业)，当作业申请占用主存空间时，通过特定的主存空间分配策略，为其分配主存空间。

  **主存空间的回收**：当主存中某个作业撤离或主动归还主存空间时，就收回它所占有的全部或部分的主存空间。

  **处理方法**：

  (1)系统必须建立一张“主存空间分配表”，记录主存空间的分配情况。我们把尚未占用的空间称为空闲区(或称自由区)。

  (2)当进行分配时，查找主存空间分配表，分析主存空间的使用情况，找出足够的空闲区域分配给请求使用主存空间者，并在分配表中把该区的标志置成“已分配”状态。

  (3)若当时的空闲区不能满足申请要求，则让申请者处于等待主存资源状态，直到有足够主存空间时再分配给它，且其状态转换成就绪状态。

  (4)当进程归还主存空间时，也要修改主存空间分配表，在分配表中把回收区域的标志置成“空闲”状态。

* **解释页式存储管理中为什么要设置页表和快表。**

  页式存储管理首先把主存储器分成大小相等的分块作为主存分配的物理单位，同时要求程序逻辑地址也分成与块大小一致的页面，这样就可以把作业信息按页面存放到块中。进行存储分配时，根据作业大小确定它的页面数，在装入主存时给它分配相应数目的主存块, 这些主存块可以不相邻。

  **为什么要设置页表**: 为了在作业执行过程中准确地查找逻辑地址与绝对地址的对应关系，系统为每个作业建立一张页表，指出逻辑地址中的页号与主存块中块号的对应关系。

  页表一般存放在主存储器中，当要按给定的逻辑地址进行读写时，必须两次访问主存，延长了指令的执行周期，降低了执行速度。

  **为什么要设置快表**：为了提高存取速度，系统设置一个小容量的高速缓冲存储器，利用高速缓冲存储器存放页表的一部分，这部分页表即“快表”。利用快表可以一次访问主存完成读写，大大缩短地址转换时间，从而提高查找速度和指令执行速度。

* **存储管理具有哪些功能?**

  一个好的计算机系统不仅要有一个足够容量的、存取速度快的、稳定可靠的主存储器，而且要能合理有效地使用主存空间。

  主存储器的空间分成**系统区**和**用户区**两部分。

  存储管理是对**主存空间的用户区进行管理**，其目的是尽可能地方便用户和提高主存空间的利用率。

  **存储管理的功能如下：**

  (1)主存空间的分配与回收。采用一定的策略分配适当的主存空间给要求运行的作业使用，当主存中的作业撤离或主动归还主存空间时，则收回它所占用的全部或部分的主存空间；

  (2)实现地址转换。即将用户程序的逻辑地址转换为主存储器的绝对地址；

  (3)主存空间的共享和保护。即允许多道程序通过某种途径共享某主存空间，同时，为了避免各作业相互干扰和保护各区域内的信息不被破坏，必须实现存储保护；

  (4)主存空间的扩充。存储管理利用磁盘等辅助存储器作为主存储器的后盾，使大型程序能够在较小的主存空间中顺利地运行起来。

* **UNIX的页面守护进程起什么作用?**

  它的作用是保证有足够的空闲物理页可供使用。一般它都处于睡眠状态。每当有空闲标志的物理页数量低于一个限值时就被唤醒。

  其职责如下：

  (1)控制二次机会算法中的时钟指针，当时钟指针所指的某物理页可成为空闲页时，把空闲物理页数加1。

  (2)让时钟指针继续扫描，使空闲物理页不断增加。

  (3)当空闲物理页数达到限值后，让时钟指针停止扫描。时钟指针停止扫描时，页面守护进程就进入睡眠状态，直到被唤醒后再工作。

* **影响分页系统中的缺页中断率的因素有哪些?**

  **缺页中断率**：设作业执行中访问页面的总次数为A，其中有F次访问的页面尚未装入主存，即产生了F次缺页中断，则定义f=F／A，把f称为“缺页中断率”。缺页中断率与缺页中断次数有关，

  **影响缺页中断率的因素**：

  (1)分配给作业的主存块数。一般分配给作业的主存块数越多，缺页中断率越低；

  (2)页面的大小。页面的大小取决于主存分块的大小，页面越大，装入主存的作业信息越多，缺页中断率也就越低；

  (3)程序的编制方法。程序局部化程度高则缺页率低；

  (4)页面调度算法。页面调度算法对缺页中断率影响也很大，调度不好就会出现“抖动”，好的调度算法会降低缺页率。

* **一般来说，程序具有什么样的特点?**

  程序具有两个特点：

  (1)程序执行时有些部分是彼此互斥的，即在程序的一次执行中，执行了这部分就不会执行另一部分。例如，出错处理部分仅当在有错误的时候才会执行，若没有错误发生，则就不会执行出错处理的程序。

  (2)程序的执行往往具有局部性，在一段时间里可能循环执行某些指令或多次访问某一部分的数据。所以，即使把作业有关的信息全部装入主存储器，在实际执行时也不会同时使用这些信息，甚至有些信息在作业执行的整个过程中都不会被使用。可见，没有必要把作业的全部信息同时存放在主存储器中。在装入部分信息的情况下，只要调度得好便完全可以保证作业的正确执行。

* **给出固定分区存储管理中对作业进行内存分配与回收的方法。**

  (1)当作业队列中有作业要装入分区，存储管理分配主存区域时，先查分区分配表，选择标志为“0”的分区。

  (2)然后根据作业地址空间的长度与标志为“0”的分区的长度比较，当分区长度能容纳该作业时，则根据采用的内存分配算法把作业装入相应的分区。

  (3)若找到的分区不能容纳该作业，则重复上述过程继续顺序查找分区分配表，看是否有能满足该作业长度要求的目标为“0”的分区。

  (4)如果找不到合适的分区，该作业暂时无法进入内存。

  (5)当一个作业运行结束后，根据作业名查分区分配表，从占用标志位的记录可知该作业占用的分区，把该分区的占用标志置成“0”，表示该分区现在空闲了，可用来装入新作业。

* **常用的页面调度算法有哪些?试简述之。**

  (1)**最佳调度算法OPT**：这是一种理想的调度算法。当要装入一个新页必须调出一个旧页时，所调出的页应该是以后不再访问的页或距当前最长时间后再访问的页。OPT算法在实现时有难度。这是因为对运行中的程序无法精确判断以后要访问的页面。因而这个理想算法只是被用做衡量其他算法的标准。

  (2)**先进先出调度算法(FIFO)**：这种调度算法总是调出最先进入主存储器的那一页，FIFO算法简单，易实现。这种算法是基于最早进入主存储器的页不再被使用的可能性比最近调入主存储器的页不再被使用的可能性大。但如果某一页要经常地被访问，而它在一定的时间以后就会变成最早进入主存储器的页，这时若把它调了，则可能立即又要被调入。

  (3**)最近最久未使用调度算法(LRU)**：LRU是基于程序执行的局部性理论，即程序一旦访问到某些位置的数据或指令时，可能在一段时间里经常会访问它们。这种实现方法必须对每一页的访问情况时时刻刻加以记录和更新，实现起来比较困难，且开销也大。

  (4)**最近最不经常使用调度算法(LFU)**：这种算法是基于在过去一段时间里被访问次数多的页可能是经常需要用的页，所以应调出被访问次数少的页。LFU的关键是要选择一个合适的周期。

* **UNIX采用怎样的页面调度算法?**

  UNIX采用**二次机会页面替换调度算法**。

  它的实现要点如下：

  (1)把除了内核部分的所有物理页登录在一张总页面表中。

  (2)设置一个时钟指针，时钟指针扫描总页面表。当时钟指针到达一个表项时，如果该物理页是空闲的或正在与外设交换信息，则继续扫描下一表项，否则找出占用该物理页的进程页表。

  (3)按物理页号从进程页表中找出对应的表项b若该页的有效位已经被置成了0，则对该页所占的物理页置上“空闲”标志。若该页的有效位为1，则把有效位改置成0。

  (4)产生缺页中断后，可找一个有空闲标志的物理页，将该物理页中的信息调出到磁盘上，然后再来装入新页。

  (5)对有效位被置成 0 的页，页中的信息仍保留在所占的物理页中，只要这个物理页没有空闲标志，那么就不会被用来装入新页。这样，一旦进程又要访问该页时，只要把有效位重新置成1，使该页信息成为二次有效，进程就可立即访问该页信息。显然，这样就减少了大量的输入／输出传送。

* **为什么要采用虚拟存储器管理，其工作原理和理论依据又是什么?**

  **为什么要采用虚拟存储器管理**: 在传统的存储管理方式中，都必须为作业分配足够的主存空间，以装入作业的全部信息。当主存容量不能满足作业要求时，作业就无法装入主存运行。为了使逻辑地址空间大于实际主存空间的作业可以执行，许多系统采用了虚拟存储器管理方法。

  **工作原理**: 实现虚拟存储器要有大容量的辅助存储器做后盾，其工作原理是：把作业信息保留在磁盘等辅存上，当作业请求装入时，只将其中一部分先装入主存储器，作业执行中若要访问的信息不在主存中，则再设法把这些信息装入主存。

  **理论依据**：虚拟存储器管理方式可以保证作业的正确执行，这可由程序本身的特点来说明：

  (1)程序执行时有些部分是彼此互斥的，即在程序的一次执行中，执行了这部分就不会去执行另一部分。

  (2)程序执行往往具有局部性，在一段时间里可能循环执行某些指令或多次访问某一部分的数据。所以即使把作业有关的信息全部装入主存储器中，在实际的执行中有些信息也可能不会被使用，因此没有必要把作业的全部信息同时存放在主存储器中。在装入部分信息的情况下，只要调度得好完全可以保证作业的正确执行。

* **简述分区存储管理中提高主存利用率的措施。**

  (1)划分分区后按分区大小顺序排列，低地址部分为较小容量的分区，高地址部分为较大容量的分区，各分区按从小到大的次序依次登记在主存分配表中。

  (2)根据经常出现的作业大小和频率划分分区。

  (3)按作业对主存空间的需求量排成多个队列，规定每个作业队列中的各作业只能依次装入对应的指定分区中；不同的分区中可同时装入作业；当作业队列为空时，该作业队列对应的分区也不能用来装其他的作业队列中的作业。

* **什么叫“抖动”?**

  如果选用了一个不合适的调度算法就会出现这样的现象：刚被调出的页又立即要用，因而又要把它调入；而调入不久又被调出；调出不久又再次被调入，如此反复，使调度非常频繁，以至于使大部分时间都花费在来回调度上，这种现象称为“抖动”，又称颠簸。

* **简述移动技术和移动技术的目的。**

  把作业从一个存储区域转移到另一个存储区域的工作就是移动技术。

  移动技术有两个目的：**集中分散的空闲区**；**便于动态扩充主存**。

* **简述能起到扩充主存空间的虚拟存储管理技术的原理。**

  页式虚拟存储管理是在页式存储管理的基础上实现虚拟存储的

  (1)首先把作业信息作为副本存放在磁盘上，作业执行时，把作业信息的部分页面装入主存储器。

  (2)作业执行时若所访问的页面已在主存中，则按页式存储管理方式进行地址转换，得到欲访问的主存绝对地址。

  (3)若欲访问的页面不在主存中，则产生一个“缺页中断”，由操作系统把当前所需的页面装入主存中。

* **存储保护的目的是什么?怎样实现存储保护?**

  多道程序设计系统中，同时有若干个作业被装入主存储器，共享主存空间。

  **存储保护的目的**：防止各作业相互干扰和保护各区域内的信息不被破坏。

  **怎样实现存储保护**：存储保护的工作由硬件和软件配合实现，操作系统把程序可以访问的区域通知硬件，程序执行时由硬件检查是否允许访问。若允许，则执行，否则产生“地址越界”中断，由操作系统的中断处理程序进行处理。

  主存区域的保护可采取如下措施：

  (1)程序执行时，对属于自己的主存区域中的信息既可读，又可写；

  (2)对共享区域中的信息只可读，不可写；

  (3)程序执行时，对非自己的主存区域或非共享区域中的信息既不可读，又不可写。

* **文件有哪几种逻辑结构?有哪几种物理结构?**

  逻辑结构有两种形式：**流式文件**和**记录式文件**。

  物理结构有三种形式：**顺序文件**、**链接文件**、**索引文件**。

* **简述树形文件目录结构的优点。**

  (1)解决了重名问题；

  (2)有利于文件分类；

  (3)提高检索文件的速度；

  (4)能进行存取权限的控制。

* **文件有哪些存取方式?存取方式的选择取决于什么?**

  **文件存取方式**包括**顺序存取方式**和**随机存取方式**两种。

  顺序存取方式：文件中的信息按顺序依次进行读写的存取方式称为文件的顺序存取。

  随机存取方式：文件中的信息不一定按顺序读写，而是可以按任意的次序随机读写的存取方式称为文件的随机存取。 

  **采用哪种存取方式取决于两个方面**：

   (1)与文件的使用方式有关，文件的性质决定了文件的使用，也决定了文件存取方式的选择。如源程序文件需按顺序方式存取；数据库访问可以采用随机存取方式。

   (2)与存取介质的特性有关，磁带机适用于顺序存取；磁盘机具有随机存取的功能。

* **什么是文件的逻辑结构?什么是文件的物理结构?它们各有哪些基本形式?**

  (1)文件的逻辑结构：从用户观点出发所看到的文件组织形式称为文件的逻辑结构，文件的逻辑结构独立于物理环境。

  逻辑文件的组织形式：用户组织的文件称为逻辑文件，逻辑文件有两种形式：

  ①流式文件：整个文件是由有次序的一串信息组成，不可再划分更小的独立单位。

  ②记录式文件：由一组相关的记录组成。

  (2)文件的物理结构：是文件在存储介质上的存储组织形式，与存储介质的存储特性有关。

  ①磁带文件的组织：磁带机是一种顺序存取的设备，因此，组织在磁带上的文件都采用顺序结构。

  ②磁盘文件的组织：

  ​	**顺序结构**：将逻辑文件的信息依次存放在存储介质上连续的存储块内)。

  ​	**链接结构**(**又称串联结构**)：是将一个逻辑文件的信息存放在存储介质的若干个物理块中，这些物理块可以不连续，每个物理块设置一个指针，指向下一个物理块的位置，从而使得存放同一个文件的物理块链接起来。

  ​	**索引结构**：是将一个逻辑文件的信息存放在存储介质的若干个存储块中，为每个文件建立一个索引表，索引表中的每个表目存放文件信息所在逻辑块号和与之对应的物理块号。

* **文件系统应由哪些部分组成?**

  (1)文件目录：是实现按名存取的一种手段。目录结构应既能方便文件的检索，又能保证文件系统的安全；

  (2)文件的组织：用户按信息的使用和处理方式来组织文件。文件系统要从系统效率和方便检索的角度来考虑如何保存文件。通常文件在存储介质上可以有多种组织形式；

  (3)文件存储空间的管理：对文件的存储空间的分配和空闲情况进行登记和管理；

  (4)文件操作：是文件系统提供给用户使用文件的一组接口。用户调用文件操作提出对文件的使用要求；

  (5)文件的安全措施：文件共享既能节省存储空间又可减少传送文件的时间，但文件需要适当的安全保护措施，既要防止有意或无意地破坏文件，又要避免随意地剽窃文件，实现文件的保护和保密。

* **简述UNIX中系统调用命令OPEN的处理过程。**

  (1)分配一个活动索引节点，引用计数i_count + 1；

  (2)在进程打开文件表和系统打开文件表中分配表项；

  (3)调用设备驱动程序检查打开的合法性；

  (4)初始化驱动程序的数据结构；

  (5)建立进程和设备间的联系。

* **简述UNIX中系统调用命令close的处理功能。**

  当一个进程不再使用一个已经打开的文件，应调用close，关闭打开文件。调用方式为：close(fd)。

  close处理程序的功能如下：根据fd找到进程打开文件表表项，从而找到f_count和i_count；执行 f_count - 1 和 i_count - 1；如果 f_count=0，则置系统打开文件表中该表项为空闲；如果i_count =0，则置该活动索引节点项为空闲；把fd所指的进程打开文件表表项清0。

* **文件系统能允许用户去关闭一个不是自己打开或建立的文件吗?**

  关闭文件操作只有文件的建立者或打开者才有权关闭文件。因此，文件系统一般不能允许用户去关闭一个不是自己打开或建立的文件。

* **什么是文件目录?文件目录种应包含哪些基本内容?**

  文件目录是用于检索文件的，是文件系统实现按名存取的重要手段。

  文件目录由若干个目录项组成，目录项应包括：

  (1)文件存取控制信息(用户名、文件名、文件类型、文件属性等)

  (2)文件结构信息(文件的逻辑结构、文件的物理结构、记录个数、文件在存储介质上的位置等)

  (3)文件管理信息(文件的建立日期、文件的修改日期、文件保留期限、记账信息等)

* **简述用户使用文件操作的步骤。**

  (1)读一个文件信息时，依次调用：“打开”文件→“读”文件(可多次调用)→“关闭”文件 

  (2)写一个文件信息时，依次调用 “建立”文件→“写”文件(可多次调用)→“关闭”文件 

  (3)删除一个文件时，依次调用“关闭”文件→“删除”文件

* **UNIX文件系统有什么特点?**

  UNIX的文件系统分成**基本文件系统**和**可装卸的子文件系统**两部分。

  不论基本文件系统还是子文件系统都有自己独立的目录结构。但是，基本文件系统是整个UNIX文件系统的基础，被称为根(root)文件系统。

  系统一旦启动运行后，基本文件系统不能脱卸，而子文件系统可以随时更换。这种结构使得文件系统易于扩充和更改。

* **文件是如何进行分类的?**

  (1)按**用途分类**：**系统文件**、**库文件**和**用户文件**；

  (2)按**保护级别分类**，**执行文件**、**只读文件**和**读写文件**等；

  (3)按**信息流向分类**，**输入文件**、**输出文件**和**输入／输出文件**；

  (4)按**存放时限分类**，**临时文件**、**永久文件**和**档案文件**；

  (5)按**设备类型分类**，**磁盘文件**、**磁带文件**、**卡片文件**和**打印文件**等；

  (6)按**文件组织结构分类**，可分为**逻辑文件**：**流式文件**和**记录式文件**；**物理文件**：**顺序文件**、**链接文件**和**索引文件**。

* **怎样防止由于系统故障而造成的文件被破坏?**

  对于因硬件故障或软件失误而引起的文件被破坏，应经常采用**建立副本**和**定时转储**的办法来解决。

  (1)**建立副本**：副本既可建立在同类型的不同存储介质上，也可建立在不同类型的存储介质上。当系统出现故障时，应根据系统故障的具体情况来选取副本。例如，当磁带机发生故障不能读出文件时，可以通过磁盘驱动器把保存在磁盘上的文件副本读出来。操作系统还可在同一存储介质上对系统文件建立多个副本，万一某个副本上的文件受了侵害，可立即用其他副本中的文件更换，增强系统文件的安全性。建立副本的方法简单易行，但系统开销增大，当文件更新时必须要改动所有的副本。因此，这种方法适用于容量较小且极为重要的文件。

  (2)**定时转储**：在文件执行过程中，定时地把文件转储到某个存储介质上。当文件发生故障时，就用转储的文件来复原。这样可把有故障的文件恢复到某一时刻的状态，仅丢失了自上次转储以来新修改或新增加的信息，只要从恢复点重新执行就可得到弥补。UNIX系统就采用定时转储来保护文件，提高文件的安全性。

* **顺序存储结构的主要问题是什么?**

  (1)磁盘存储空间的利用率不高；

  (2)对输出文件很难估计需多少磁盘块；

  (3)影响文件的扩展。

* **UNIX中的系统调用link和unlink起什么作用?**

  系统调用link和unlink的典型应用是允许开发小组的几个成员共享一个文件。每个成员用link使文件连接到自己的目录中。任何一个人都可用自己的路径名去访问该文件，且对文件所作的修改对其他人都是可见的(因为只存在一个文件)。这对多人合作开发来说是方便的，不需要每人去复制一份文件，也不需要去复制更新过的文件，而是直接对同一个文件进行操作。当任何一个成员不需要再访问该文件时，可以用unlink删除自己目录中该文件的目录项，不影响其他人员对该文件进行操作。如果连接该文件的最后一个目录项被删除，则该文件也被删除。

* **叙述下列术语：存储介质、卷、块、文件和记录。**

  **存储介质**：可用来记录信息的磁带、硬磁盘组、软磁盘片、光盘、卡片等称为存储介质。目前常用的存储介质是磁带机和磁盘机。
  
  **卷**：把存储介质的物理单位定义为“卷”。例如，一盘磁带、一张软盘片、一个硬磁盘组都可称为一个卷。
  
  **块**：把存储介质上连续信息所组成的一个区域称为“块”。块是存储设备与主存储器之间进行信息交换的物理单位。每次总是把一块或几块信息读入主存储器，或把主存储器中的信息写到一块或几块中。
  
  **文件**：是指逻辑上具有完整意义的信息集合；
  
  **记录**：是指文件内信息按逻辑上独立的含义划分的信息单位，每个单位称为一个逻辑记录，简称为记录。