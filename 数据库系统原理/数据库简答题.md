## 真题

* **简述关系模型的三类完整性约束**
  (1) 实体完整性约束。
  (2) 参照完整性约束。
  (3) 用户定义完整性约束。

* **简述视图的概念及其与三级模式中相对应的模式**
  (1) 视图是数据库中的一个对象，它是数据库管理系统提供给用户的以多种角度观察数据库中数据的一种重要机制。

  (2) 视图是从一个或多个表或者其他视图中通过查询语句导出的表，它也包含一系列带有名称的数据列和若干条数据行，并有自己的视图名

  **视图对应**三级模式中的**外模式**。

* **简述使用存储过程的优点**
  (1) 增强SQL语言的功能和灵活性。
  (2) 良好的封装性。
  (3) 高性能。
  (4) 可减少网络流量。
  (5) 可作为一种安全机制来确保数据库的安全性和数据库的完整性。

* **简述并发操作带来数据不一致的主要原因及解决方法**
  (1) 主要原因是并发操作破坏了事务的隔离性。
  (2) 解决方法有封锁、时间戳、乐观控制法和多版本并发控制。

* **简述MySQL中备份数据的语句及其功能**
  (1) SELECT...INTO...OUTFILE。
  (2) 通过SELECT语句将表中所有数据行写入到一个文件中。

* **简述MySQL中恢复数据的语句及数据库恢复完毕之后对表解锁的语句**
  (1) 恢复数据的语句是LOAD DATA...INFILE。
  (2) 数据库恢复完毕后对表解锁语句是UNLOCK TABLES。

* **简述关系数据模型的优化方法**

  (1) 确定各属性间的函数依赖关系。

  (2) 对于各个关系模式之间的数据依赖进行极小化处理，消除冗余的联系。

  (3) 判断每个关系模式的范式，依据实际需要确定最合适的范式。

  (4) 按照需求分析阶段得到的处理要求，对某些模式进行合并或分解。

  (5) 对于关系模式进行必要的分解，提高数据操作的效率和存储空间的利用率。

* **简述关系模型完整性约束的校验方法**

  (1) 执行插入操作时，首先检查实体完整性约束，然后检查参照完整性约束，最后检查用户定义完整性约束。

  (2) 执行删除操作时，一般只需要对被参照关系检查参照完整性约束。

  (3) 执行更新操作时，因为更新操作可看成先执行删除操作，再执行插入操作，因此是上述两种情况的综合。

* **简述SQL核心组成部分**

  (1) 数据定义语言(DDL)

  (2) 数据操纵语言(DML)

  (3) 数据控制语言(DCL)

  (4) 嵌入式和动态SQL规则

  (5) SQL调用和会话规则

* **简述删除存储函数的语句及注意事项**
  删除语句: DROP FUNCTION。 
  注意事项如下: 
  (1) 在删除之前，必须确认该存储函数没有任何依赖关系，否则会导致其他与之关联的存储函数无法运行。 
  (2) 为防止因删除不存在的存储函数而引发的错误，可在 DROP FUNCTION 语句中添加关键字“IF EXISTS"。

* **简述三种典型的并发操作问题**
  (1) 丢失更新。设有两个事务T1和T2，当它们同时读入同一个数据并加以修改时，事务T2的提交结果会破坏事务T1提交的结果。 
  (2) 不可重复读。两个事务T1和T2，不可重复读是指事务T1读取数据后，事务T2执行更新操作，使事务T1无法再现前一次读取的结果。 
  (3) 读“脏”数据。设有两个事务TI和T2，事务TI修改某一个数据，并将其写回磁盘，事务T2读取同一个数据后，事务TI由于某种原因被撤销,这时事务TI已修改过的数据恢复原值，事务T2读到的数据就与数据库中的数据不一致，则事务T2读到的数据就为“脏”数据。

* **简述关系的两个不变性及其含义**
  (1) 实体完整性和参照完整性是关系模型必须满足的完整性约束条件，被称作关系的两个不变性。
  (2) 实体完整性约束是指关系的主属性，即主码的组成不能为空，也就是关系的主属性不能是空值NULL。
  (3) 参照完整性约束就是定义外码和主码之间的引用规则，它是对关系间引用数据的一种限制。

* **简述视图与基本表的区别**
  (1) 视图不是数据库中真实的表，而是一张虚拟表。
  (2) 视图内容是由存储在数据库中进行查询操作的SQL语句来定义。
  (3) 视图所对应的数据实际上是存储在视图所引用的基本表中。
  (4) 视图是用来查看存储在别处数据的一种虚拟表，自身不存储数据。

* **简述存储过程和存储函数的区别**
  (1) 存储函数不能拥有输出参数，因为存储函数自身就是输出参数。存储过程可以有输出参数。
  (2) 可以直接对存储函数进行调用，且不需要使用CALL语句。对存储过程的调用，需要使用CALL语句。
  (3) 存储函数中必须包含一条RETURN语句，而这条特殊的SQL语句不允许包含于存储过程中。

* **简述数据库管理系统的主要功能**
  (1) 数据定义功能。
  (2) 数据操纵功能。
  (3) 数据库的运行管理功能。
  (4) 数据库的建立和维护功能。
  (5) 数据组织、存储和管理功能。
  (6) 其他功能。

* **简述关系的码和候选码的概念**
  (1) 如果在一个关系中，存在这样的属性（或属性组），使得在该关系的任何一个关系状态中的两个元组，在该属性（或属性组）上的值的组合都不相同，即这些属性（或属性组）的值都能用来唯一标识该关系的元组，则称这些属性（或属性组）为关系的码。
  (2) 如果在关系的一个码中，不能从中移去任何一个属性，否则它就不是这个关系的码，则称这个码为该关系的候选码。

* **简述在存储过程中常用的条件判断语句和循环语句**
  (1) 常用的条件判断语句有 **IF...THEN...ELSE** 语句和 **CASE** 语句。
  (2) 常用的循环语句有 **WHILE** 语句、**REPEAT** 语句和 **LOOP** 语句。

* **简述约束命名后，使用 ALTER TABLE 语句和 DROP TABLE 语句应该注意的问题**
  (1) 完整性约束不能直接被修改。若要修改某个约束，实际是用ALTER TABLE语句先删除该约束，然后增加一个与该约束同名的新约束。
  (2) 使用ALTER TABLE语句可以独立地删除完整性约束，而不会删除表本身。
  (3) 若使用DROP TABLE语句删除一个表，则表中的所有的完整性约束都会自动被删除。

* **简述数据库备份和数据库恢复的含义**
  (1)数据库备份是指通过导出数据或者复制表文件的方式来制作数据库副本。
  (2)数据库恢复则是当数据库出现故障或遭到破坏时，将备份的数据库加载到系统，从而使数据库从错误状态恢复到备份时的正确状态。

* **简述数据库系统的特点**
  (1) 数据集成。

  (2) 数据共享性高。

  (3) 数据冗余小。

  (4) 数据一致性。

  (5) 数据独立性高。

  (6) 实施统一管理与控制。

  (7) 减少应用程序开发与维护的工作量。

* **简述关系数据库对关系限定的具体要求**
  (1) 每一个属性都是不可分解的。

  (2) 每一个关系仅仅有一种关系模式。

  (3) 每一个关系模式的属性必须命名,属性名不许重复。

  (4) 同一个关系中不允许出现候选码或候选键值完全相同的元组。

  (5) 在关系中元组的顺序(即行序)是无关紧要的。

  (6) 在关系中属性的顺序(即列序)是无关紧要的。

* **简述数据定义语言的功能及其包括的主要SQL语句**
  对数据库及数据库中的各种对象进行创建、删除、修改等操作。

  主要语句:(1) **CREATE** (2) **ALTER** (3) **DROP**

* **简述在 MySQL中使用游标的原因**
  在使用 SELECT语句进行数据检索时,若该语句成功被执行,则会返回一组称为结果集的数据行,该结果集中可能拥有多行数据,这些数据无法直接被一行一行的进行处理,因此,需要使用游标。

* **简述完整性约束条件的作用对象及其含义**
  **作用对象：列、元组和表**。

  (1) **列级约束**：是指对列的类型、取值范围、精度等的约束。

  (2) **元组约束**：是指元组中各个字段之间的相互约束。

  (3) **表级约束**：是指若干元组之间、关系之间的联系的约束。

* **简述层次模型的数据结构和特点**
  (1) 层次模型的数据结构是一棵“有向树”,树的每个结点对应一个记录集,也就是现实世界的实体集。

  (2) 有且仅有一个结点没有父结点,它称作根结点。

  (3) 其他结点有且仅有一个父结点。

* **简述“不好”的关系模式可能存在的问题**
  (1) **数据冗余** (2) **更新异常** (3) **插入异常** (4) **删除异常**

* **简述使用视图的优点**
  (1) 集中分散数据

  (2) 简化查询语句

  (3) 重用SQL语句

  (4) 保护数据安全

  (5) 共享所需数据

  (6) 更改数据格式

* **简述声明局部变量的注意事项**
  (1) 只能在存储过程体的 BEGIN···END语句块中声明。

  (2) 必须在存储过程体的开头处声明。

  (3) 作用范围仅限于声明它的 BEGIN···END语句块,其他语句块中的语句不可以使用它。

  (4) 局部变量不同于用户变量,两者间的区别是:局部变量声明时,在其前面没有使用@符号;而用户变量在声明时,会在声明前面使用@符号

* **简述封锁的工作原理**
  (1) 若事务T对数据D加了X锁,则所有别的事务对数据D的锁请求都必须等待直到事务T释放锁。

  (2) 若事务T对数据D加了S锁,则别的事务还可以对数据D请求S锁,而对数据D的X锁请求必须等待直到事务T释放锁。

  (3) 对读请求S锁,对更新(插入、删除、修改)请求X锁。(4)事务一直占有获得的锁直到结束(COMMIT或 ROLLBACK)时释放。

* **简述数据模型的分类**
  （1）概念层数据模型。
  （2）逻辑层数据模型。
  （3）物理层数据模型。

* **简述实体完整性约束**
  (1) 实体完整性约束是指关系的主属性，即主码的组成不能为空，也就是关系的主属性不能是空值NULL。
  (2) 关系对应于现实世界中的实体集，而现实世界中的实体是可区分的，即说明每个实体具有唯一性标识。
  (3) 在关系模型中，是使用主码作为唯一标识的，若假设主码取空值，则说明这个实体不可标识，即不可区分。

* **简述变量的含义及其属性**
  变量用于临时存储数据，变量中的数据可以随着程序的运行而变化；

  变量属性有名字、数据类型。

* **简述游标的含义及创建游标的语句**
  （1）游标是一个被 **SELECT** 语句检索出来的结果集。
  （2）创建游标语句：**DECLARE CURSOR**。

* **简述触发器的概念及其作用**
  **触发器**：是用户定义在关系表上的一-类由事件驱动的数据库对象，也是一种保证数据完整性的方法。

  **主要作用**：实现主键和外键不能保证的复杂的参照完整性和数据的一致性，从而有效地保护表中的数据。

* **简述外模式/模式映像及其如何保证数据的逻辑独立性。**

  **外模式/模式映像**：定义了各个外模式与概念模式之间的映像关系,这些映像定义通常在各自的外模式中加以描述。

  **数据库系统的模式**如若发生改变，数据库管理员(DBA)**通常会对各个外模式/式的映像做出相应的改变**，以使那些**对用户可见的外模式保持不变**，从而**应用程序的编程人员就不必去修改那些依据数据的外模式所编写的应用程序**，如此**实现了外模式不受概念模式变化的影响**，并**保证了数据与程序的逻辑独立性**。

* **简述参照完整性约束。**

  属性 F 是基本关系 R 的外码，它与基本关系 S 的主码 K 相对应，R 中元组在 F上的值只有两种可能：空值，等于 S 中某个元组的主码值。

* **简述SQL调用及主要目的。**

  (1) **SQL调用**：包括**SQL例程**和**调用规则**。 

  (2) **主要目的**:  

  ​	① 提高SQL的灵活性。

  ​	② 提高SQL的有效性。

  ​	③ 提高SQL的共享性。

  ​	④ 使SQL具有更多的高级语言的特征。

* **简述在存储过程中局部变量与用户变量的区别。**

  (1) **局部变量**声明时，在其前面**没有使用@ **符号，并且它只能被声明它的 **BEGIN...END** 语句块使用。

  (2) **用户变量**在声明时，会在其名称前面**使用@** 符号，同时已声明的**用户变量存在于整个会话中**。

* **简述封锁的级别的内容。**

  (1) **0级封锁**：封锁的事务不重复写其他非0级封锁事务的未提交的更新数据。

  (2) **1级封锁**：被封锁的事务不允许重写未提交的更新数据。

  (3) **2级封锁**：被封锁的事务既不重写也不读未提交的更新数据。

  (4) **3级封锁**：被封锁的事务不读未提交的更新数据,不写任何未提交数据

* **简述关系模型的优点。**

  (1) 关系模型是建立在严格的数学概念的基础之上的。

  (2) 关系模型的概念单一，统一用关系来表示实体以及实体之间的联系，关系模型的数据结构简单、清晰，用户易懂、易用。

  (3) 关系模型的存取路径对用户透明，从而具有更高的数据独立性、更好的安全保密性，也简化了程序员的工作和数据库开发建立的工作。

* **简述用户定义完整性约束。**

  **用户定义的完整性约束**：

  (1) 针对某一应用环境的完整性约束条件，它反映了某一具体应用所涉及的数据应满足的要求。

  (2) 关系模型提供定义和检验这类完整性规则的机制，其目的是用统一的方式由系统来处理它们，不再由应用程序来完成这项工作。

  (3) 在实际系统中，这类完整性规则一般在建立数据库表的同时进行定义，也可以由应用编程人员在各模块的具体编程中通过程序进行检查和控制。

* **简述数据操纵语言的功能及主要SQL语句。**

  **DML功能**：用于操纵数据库中各种对象，特别是检索和修改数据。

  **主要 SQL 语句有**：

  (1) SELECT：检索数据。

  (2) INSERT：将数据插入到表或视图。

  (3) UPDATE：修改表或视图中的数据。

  (4) DELETE：删除表活视图中的数据。

* **简述使用游标的注意事项。**

  (1) 游标只能用于存储过程或存储函数中，不能单独在查询操作中使用。

  (2) 在存储过程或存储函数中可以定义多个游标，但是在一个 BEGIN…END 语句块中每个游标的名字必须是唯一的。

  (3) 游标不是一条 SELECT 语句，是被 SELECT 语句检索出来的结果集。

* **简述事务的概念与事务的特征。**

  (1) **事务**：是用户定义的一个数据操作序列，这些操作可作为一个完整的工作单元，要么全部执行，要么全部不执行，是一个不可分割的工作单位。

  (2) **事务的特征**：**原子性**（或 Atomicity）、**一致性**（或 Consistency）、**隔离性**（或Isolation）和**持续性**（或 Durability）。ACID

## VIP题库

* **简述数据模型的分类。**

  (1) 概念层数据模型。
  (2) 逻辑层数据模型。
  (3) 物理层数据模型。

* **什么是第三范式?**

  设 R 为任一给定关系，若 R 为 2NF，且其每一个非主属性都不传递函数依赖于候选关键字，则R为第三范式。

* **简述数据库设计的内容。**

  (1) **数据库结构设计**：针对**给定的应用环境进行数据库的模式或子模式的设计**,包括数据库的**概念结构设计**、**逻辑结构设计**和**物理结构设计**
  (2) **数据库行为设计**。数据库行为设计是**确定数据库用户的行为和动作**。而**用户的行为和动作是对数据库的操作**，它们通常是通过**应用程序**来实现的。**行为设计是动态的**，因为用户的行为会使数据库的内容发生变化。

* **什么是多对多联系?**

  如果对于实体集A中的每一个实体，实体集B中有N个实体与之联系，反之对于实体集B中的每一个实体，实体集A中也有M个实体与之联系，则称实体集A与实体集B具有多对多联系，记为M:N

* **简述嵌入式SQL中引入游标的原因。**

  由于SQL语句处理的是记录集合，而主语言语句一次只能处理一个记录，因此需要用游标机制，把集合操作转换成单记录处理方式。

* **在 MySQL中,主键列需要遵守哪些规则?**

  (1) 每一个表只能定义一个主键
  (2) 主键的值,也称为键值,必须能够唯一标志表中的每一行记录，且不能为NULL。也就是说,表中两个不同的行在主键上不能具有相同的值。
  (3) 复合主键不能包含不必要的多余列
  (4) 一个列名在复合主键的列表中只能出现一次。

* **简述列级约束的内容。**

  列级约束主要指对**列的类型**、**取值范围**、**精度**等的约束,具体包括以下内容:
  (1) 对数据类型的约束
  (2) 对数据格式的约束
  (3) 对取值范围或取值集合的约束
  (4) 对空值的约束。