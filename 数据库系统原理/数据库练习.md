## 

数据库分析与设计包括四个阶段(环节): **需求分析**，**概念设计**、**逻辑设计**、**物理设计**

一个关系对应一个基本表，一个或多个基本表对应一个物理文件。

对于填有数据的游标可以通过 **FETCH...INTO** 获取数据

完整性约束的作用对象可以是 列，元组，表

**分割**是将数据分割到各自的物理单元中，以便能够分别处理，提高**数据处理**的效率

大数据是指无法在可容忍的时间内用现有信息技术和软、硬件工具对其进行感知、获取、管理、处理的服务的（）。 (历年真题•2022年10月)

**大数据**是指无法在可容忍的时间内用现有的信息技术和软、硬件工具进行感知获取，管理的、处理的服务的 **数据集合**



某电视剧管理中心需要管理如下信息：
电视剧编号，电视剧名称，拍摄年份，总导演身份证号码，姓名，性别，年龄。
其中：每部电视剧只能有一位总导演；每位总导演可指导多部电视剧拍摄；每部电视剧都有具体的拍摄年份。
试完成下列要求：
(1)画出反映上述实体关系的E-R图。（不必画实体的属性）
(2)转换成关系模式并指出每个关系模式的主码和外码，在主码下画直线“_______”，在外码下画波浪线“~~~~~~”。
(3)用SQL语句建立“总导演”表。 (历年真题•2022年4月)

电视剧(<u>电视剧编号</u>，电视剧名称，拍摄年份, 总导演身份证号码~~~~~)

总导演(<u>总导演身份证号码</u>，姓名，性别，年龄)

```sql
create table 总导演 (
    总导演身份证号码 char(18) primary key,
    姓名 char(20),
    性别 char(2),
    年龄 int
);
```

π商品编号(σ商品名称='打印机'(商品表)) 

π商品编号,联系人(σ供应商编号=‘HT220107’(供应表))

```
select 供应商表.供应商编号, count(商品编号) as 商品总数量 from 供应商表,供应表 where 供应商表.供应商编号=供应表.供应商编号 group by 供应商表.供应商编号 ❌

select 供应商编号, count(商品编号) as 商品总数量 from 供应表 group by 供应商编号

select 商品编号, 供应时间 from 供应表 where 供应商编号 in (select 供应商编号 from 供应商表 where 供应商名称 = '华为')

create view VHW(供应商名称，商品编号，供应时间，联系人)
as (
select 供应商名称, 商品编号 供应时间，联系人 from 供应商表 left join 供应表 on 供应商表.供应商编号=供应表.供应商编号 where 供应商名称 = '华为'
)

create view VHW(供应商名称，商品编号，供应时间，联系人)
as (
select 供应商名称, 商品编号 供应时间，联系人 from 供应商表,供应表 where 供应商表.供应商编号 = 供应表.供应商编号 and 供应商名称 = '华为'
)


(学号, 系号, 考试类型)
R ∈ 1NF 第一范式，存在非主属性对码的部分函数依赖
第二范式，非主属性必须完全依赖于主属性()
删除学生选课信息或成绩信息，有可能吧学生的基本信息也删除了
R1(学号, 姓名, 系号)
R2(系号, 系名)
R3(课程号, 课程名)
R4(学号, 课程号, 考试类型，成绩)

σ所在区='皇姑区'(会员)
π服装编号，会员编号，租借日期(租借)
select 类名, count(服装编号) as 服装数量  from 服装 group by 类名;

select 服装编号,租借日期 from 会员,租借 where 会员.会员编号 = 租借.服装编号 and 会员名 = '李芳';
select 服装编号,租借日期 from 租借 where 会员编号 in (
	select 会员编号 from 会员 where 会员名 = '李芳'
);

create view VLJ(服装编号，服装名，租金) as select 服装编号，服装名，租金 from 服装 where 类名 = '京剧';


读者(读者号__，姓名，出生日期，单位号~~~)
图书(图书号__, 书名，出版社，定价)
借阅(图书号__~~~，借阅号__~~~,借书日期)
单位(单位号___，单位名)

create table 单位 (
	单位号 int primary key,
	单位名 char(100)
	primary key(单位号)
);
σ学分>3(课程)
π院系编号(学生)
select 院系编号，性别, count(学号) as 人数 from 学生 group by 院系编号,性别;
select 学号, 成绩 from 课程, 选修 where 课程.课程号 = 选修.课程号 and 课程.课程名 = '数据库';

delete from 选修 where 学号 = '001'
读者(读者号__,姓名,出生日期)
图书(图书号__, 图书名,作者, 出版社, 定价, 类号~~~)
类别(类号__, 类名)
借阅(读者号__~~~___, 图书号__~~~, 借书日期, 还书日期)

create table 类别 (
	类号 int primary key,
	类名 char(20)
);
```

需求分析，系统功能和数据库的设计，系统功能和数据库的实现，测试与维护

